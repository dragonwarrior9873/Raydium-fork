(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8879],{25062:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking",function(){return n(15959)}])},52869:function(e,t,n){"use strict";function s(e){let t=void 0!==e.jsonInfo;return!t}function l(e){let t=void 0!==e.jsonInfo;return t}function i(e){return"rewardInfos"in e&&"lpMint"in e&&"category"in e&&"authority"in e}n.d(t,{aE:function(){return s},ef:function(){return i},lr:function(){return l}})},19390:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(72305),l=n(79938),i=n(62707),r=n(34003),a=n(71375),o=n(53002),d=n(49641);async function c(e,t){return(0,l.ZP)(async n=>{let{transactionCollector:c,baseUtils:{owner:u,connection:m}}=n;(0,r.Z)(u,"require connected wallet");let x=d.Z.getState().jsonInfos.find(t=>{let{id:n}=t;return String(n)===String(e.id)});(0,r.Z)(x,"Farm pool not found");let{tokenAccountRawInfos:f,txVersion:g}=o.Z.getState(),{innerTransactions:v}=await s.l6j.makeWithdrawInstructionSimple({connection:m,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:u,wallet:u,tokenAccounts:f},amount:(0,a.Z)(0),checkCreateATAOwner:!0,makeTxVersion:g,lookupTableCache:l.eq}),b=(0,i.AX)(()=>{d.Z.getState().refreshFarmInfos()},{once:!0});c.add(v,{onTxError:()=>(0,i.Ce)(b),onTxSentError:()=>(0,i.Ce)(b),onTxSuccess:()=>{setTimeout(()=>{d.Z.getState().refreshFarmInfos()},300)},txHistoryInfo:{title:"Harvest ".concat(t.rewardAmounts.map(e=>{let{token:t}=e;return t.symbol}).join(", ")),description:"Harvest ".concat(t.rewardAmounts.map(e=>"".concat(e.toExact()," ").concat(e.token.symbol)).join(", "))}})})}},68186:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(85893),l=n(16938),i=n(54592),r=n(60421),a=n(51800);function o(e){let{is:t,ColProps:n,RowProps:o,GridProps:d,...c}=e;return"Row"===t?(0,s.jsx)(a.Z,{...c,...o}):"Col"===t?(0,s.jsx)(i.Z,{...c,...n}):"Grid"===t?(0,s.jsx)(r.Z,{...c,...d}):"div"===t?(0,s.jsx)("div",{...(0,l.CE)(c,["domRef"]),ref:c.domRef}):(0,s.jsx)(s.Fragment,{children:c.children})}},88132:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(85893),l=n(91371),i=n(67294),r=n(66180),a=n(6994);function o(e){var t;let{haveMinHeight:n,wrapperClassName:o,children:d,domRef:c,size:u="lg",cssGradientRotate:m,...x}=e,f=(0,l.ZP)(e=>e.isMobile),g=(0,i.useMemo)(()=>{var e,t,n;return(null===(e=x.style)||void 0===e?void 0:e.borderRadius)?"calc(".concat(x.style.borderRadius," + ").concat(1.2,"px)"):(null===(t=x.className)||void 0===t?void 0:t.match(/mobile:rounded-2xl/g))&&f||(null===(n=x.className)||void 0===n?void 0:n.match(/(^|\s)rounded-2xl($|\s)/))?17.2:"md"===u?7.2:21.2},[x.className,u,null===(t=x.style)||void 0===t?void 0:t.borderRadius,f]);return(0,s.jsx)("div",{ref:c,className:o,style:{"--gradient-rotate":null!=m?"".concat(m,"deg"):void 0,minHeight:n?"300px":void 0,borderRadius:g,padding:1.2,backgroundImage:"linear-gradient(var(--gradient-rotate, 246deg), #da2eef 7.97%, #2b6aff 49.17%, #39d0d8 92.1%)"},children:(0,s.jsx)(a.Z,{...x,size:u,className:(0,r.m)("bg-cyberpunk-card-bg overflow-hidden",x.className),style:{height:"100%",width:"100%"},children:d})})}},99645:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(85893);function l(e){let{className:t}=e;return(0,s.jsxs)("div",{className:"lds-roller ".concat(null!=t?t:""," mobile:scale-75"),children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{})]})}},18074:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(81451),l=n(51523),i=n(84207),r=n(72573),a=n(99881);function o(e,t){try{var n,o;let d=(0,i.Z)(null!=e?e:0),c=d.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(n=null==t?void 0:t.fixed)&&void 0!==n?n:2);if((0,s.eq)(d,0))return"0%";if(!(null==t?void 0:t.exact)&&c===0..toFixed(null!==(o=null==t?void 0:t.fixed)&&void 0!==o?o:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,s.gt)(c,0)?"+":"-").concat((0,a.Z)((0,s.gt)(c,0)?(0,r.B)(c):(0,r.B)((0,l.dC)(c,-1))),"%"):"".concat((0,a.Z)(c,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},15959:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var s=n(85893),l=n(72305),i=n(67294),r=n(66180),a=n(91371),o=n(19390),d=n(49641),c=n(65737),u=n(31166),m=n(53002),x=n(68186),f=n(43067),g=n(70745),v=n(54592),b=n(23484),h=n(88132),j=n(60421),p=n(48162),Z=n(99645),w=n(85830),N=n(33674),k=n(51800),y=n(99881),S=n(18074),P=n(62952),A=n(1758),C=n(95865),R=n(81451),I=n(51523),B=n(72573),M=n(60534),E=n(52869),F=n(11583);function L(){return(0,s.jsxs)(w.Z,{mobileBarTitle:"Staking",metaTitle:"Staking - Raydium",contentButtonPaddingShorter:!0,children:[(0,s.jsx)(T,{}),(0,s.jsx)(_,{})]})}function T(){let e=(0,d.Z)(e=>e.refreshFarmInfos);return(0,s.jsxs)(j.Z,{className:"grid-cols-[1fr,1fr] items-center gap-y-8 pb-4 pt-2",children:[(0,s.jsx)("div",{className:"title text-2xl mobile:text-lg font-semibold justify-self-start text-white",children:"Staking"}),(0,s.jsx)("div",{className:"justify-self-end",children:(0,s.jsx)(N.Z,{refreshKey:"staking",popPlacement:"left",className:"justify-self-end",freshFunction:e})})]})}function _(){let e=(0,d.Z)(e=>e.hydratedInfos),t=(0,d.Z)(e=>e.jsonInfos),n=(0,i.useMemo)(()=>e.length>0?e.filter(e=>e.isStakePool):t.filter(e=>"stake"===e.category),[e,t]);return n.length?(0,s.jsx)(h.Z,{children:(0,s.jsxs)(k.Z,{type:"grid",className:"gap-3 text-[#ABC4FF]",children:[n.map(e=>(0,s.jsx)("div",{children:(0,s.jsxs)(b.Z,{children:[(0,s.jsx)(b.Z.Face,{children:t=>{let{isOpen:n}=t;return(0,s.jsx)(H,{open:n,info:e})}}),(0,s.jsx)(b.Z.Body,{children:(0,s.jsx)(D,{info:e})})]})},String(e.id))),(0,s.jsx)(M.r,{})]})}):(0,s.jsx)(k.Z,{className:"text-center justify-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:(0,s.jsx)(Z.Z,{})})}function H(e){var t,n,l,i,r,o,d;let{open:c,info:u}=e,m=(0,a.ZP)(e=>e.isMobile),x=(0,s.jsxs)(k.Z,{type:"grid-x",className:"py-5 px-8 mobile:py-4 mobile:px-5 gap-2 items-stretch grid-cols-[1.5fr,1fr,1fr,1fr,1fr,auto] mobile:grid-cols-[1fr,1fr,1fr,auto] rounded-t-3xl mobile:rounded-t-lg ".concat(c?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,s.jsx)(W,{info:u}),(0,s.jsx)(O,{name:"Pending Rewards",value:(0,s.jsx)("div",{children:(0,E.lr)(u)?u.rewards.map((e,t)=>{let{token:n,userPendingReward:l,userHavedReward:i}=e;return i&&(0,s.jsxs)("div",{children:[(0,B.B)(null!=l?l:0)," ",null==n?void 0:n.symbol]},t)}):(0,s.jsx)(F.Z,{className:"w-3 h-3"})})}),(0,s.jsx)(O,{name:"Staked",value:(0,E.lr)(u)?u.base&&u.ledger?"".concat((0,B.B)((0,P.n)(u.base,u.ledger.deposited))," ").concat(null!==(i=null===(t=u.base)||void 0===t?void 0:t.symbol)&&void 0!==i?i:""):"0 ".concat(null!==(r=null===(n=u.base)||void 0===n?void 0:n.symbol)&&void 0!==r?r:""):(0,s.jsx)(F.Z,{className:"w-3 h-3"})}),(0,s.jsx)(O,{name:"APR",value:(0,E.lr)(u)?u.totalApr7d?(0,S.Z)(u.totalApr7d):"0%":(0,s.jsx)(F.Z,{className:"w-3 h-3"})}),(0,s.jsx)(O,{name:"Total Staked",value:(0,E.lr)(u)?u.tvl?"~".concat((0,C.Z)(u.tvl,{decimalPlace:0})):"--":(0,s.jsx)(F.Z,{className:"w-3 h-3"}),subValue:(0,E.lr)(u)?u.stakedLpAmount&&"".concat((0,y.Z)((0,B.B)(u.stakedLpAmount,{decimalLength:0}))," ").concat(null!==(o=null===(l=u.base)||void 0===l?void 0:l.symbol)&&void 0!==o?o:""):void 0}),(0,s.jsx)(j.Z,{className:"w-9 h-9 place-items-center self-center",children:(0,s.jsx)(p.Z,{size:"sm",className:"justify-self-end mr-1.5",heroIconName:"".concat(c?"chevron-up":"chevron-down")})})]}),f=(0,s.jsxs)(b.Z,{open:c,children:[(0,s.jsx)(b.Z.Face,{children:(0,s.jsxs)(k.Z,{type:"grid-x",className:"py-4 px-5 items-center gap-2 grid-cols-[1fr,1fr,1fr,auto] mobile:rounded-t-lg ".concat(c?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,s.jsx)(W,{info:u}),(0,s.jsx)(O,{name:"Pending Rewards",value:(0,s.jsx)("div",{children:(0,E.lr)(u)?u.rewards.map((e,t)=>{let{token:n,userPendingReward:l,userHavedReward:i}=e;return i&&(0,s.jsxs)("div",{children:[(0,B.B)(null!=l?l:0)," ",null!==(d=null==n?void 0:n.symbol)&&void 0!==d?d:""]},t)}):(0,s.jsx)(F.Z,{className:"w-3 h-3"})})}),(0,s.jsx)(O,{name:"APR",value:(0,E.lr)(u)?u.totalApr7d?(0,S.Z)(u.totalApr7d):"--":(0,s.jsx)(F.Z,{className:"w-3 h-3"})}),(0,s.jsx)(j.Z,{className:"w-6 h-6 place-items-center",children:(0,s.jsx)(p.Z,{size:"sm",heroIconName:"".concat(c?"chevron-up":"chevron-down")})})]})}),(0,s.jsx)(b.Z.Body,{children:(0,s.jsxs)(k.Z,{type:"grid-x",className:"py-4 px-5 relative items-stretch gap-2 grid-cols-[1fr,1fr,1fr,auto]",children:[(0,s.jsx)("div",{className:"absolute top-0 left-5 right-5 border-[rgba(171,196,255,.2)] border-t-1.5"}),(0,s.jsx)(O,{name:"Staked",value:(0,E.lr)(u)?u.base&&u.ledger?(0,B.B)((0,P.n)(u.base,u.ledger.deposited)):"--":(0,s.jsx)(F.Z,{className:"w-3 h-3"})}),(0,s.jsx)(O,{name:"Total Staked",value:(0,E.lr)(u)?u.tvl?"â‰ˆ".concat((0,C.Z)(u.tvl,{autoSuffix:!0})):"--":(0,s.jsx)(F.Z,{className:"w-3 h-3"}),subValue:(0,E.lr)(u)?u.stakedLpAmount&&"".concat((0,y.Z)((0,B.B)(u.stakedLpAmount,{decimalLength:0}))," RAY"):void 0}),(0,s.jsx)("div",{}),(0,s.jsx)(j.Z,{className:"w-6 h-6 place-items-center"})]})})]});return m?f:x}function D(e){var t,n,d,g,v;let{info:b}=e,h=(0,u.ZP)(e=>e.tokenPrices),j=(0,a.ZP)(e=>e.isMobile),Z=(0,m.Z)(e=>e.connected),w=(0,m.Z)(e=>e.connecting),N=(0,i.useMemo)(()=>(0,E.lr)(b)&&(0,R.gt)(b.rewards.reduce((e,t)=>(0,I.IH)(e,null!==(d=t.userPendingReward)&&void 0!==d?d:l.xEJ),new l.iAi(l.xEJ)),l.xEJ),[b]),S=(0,a.ZP)(e=>e.isApprovePanelShown);return(0,s.jsxs)(x.Z,{is:j?"Col":"Row",className:"gap-8 mobile:gap-3 flex-grow px-8 py-5 mobile:px-4 mobile:py-3 bg-gradient-to-br from-[rgba(171,196,255,0.12)] to-[rgba(171,196,255,0.06)]  rounded-b-3xl mobile:rounded-b-lg",children:[(0,s.jsxs)(k.Z,{className:"p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Deposited"}),(0,s.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[(0,E.lr)(b)&&(0,y.Z)((0,B.B)(null!==(g=b.userStakedLpAmount)&&void 0!==g?g:0),{fractionLength:null===(t=b.userStakedLpAmount)||void 0===t?void 0:t.token.decimals})," ","RAY"]}),(0,s.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:(0,E.lr)(b)&&h[String(b.lpMint)]&&b.userStakedLpAmount?(0,C.Z)((0,A.Z)(b.userStakedLpAmount,h[String(b.lpMint)])):"--"})]}),(0,s.jsx)(k.Z,{className:"gap-3",children:(0,E.lr)(b)&&b.userHasStaked?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",onClick:()=>{Z?c.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit"}):a.ZP.setState({isWalletSelectorShown:!0})},children:"Stake"}),(0,s.jsx)(p.Z,{size:j?"sm":"smi",heroIconName:"minus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{Z?c.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"withdraw"}):a.ZP.setState({isWalletSelectorShown:!0})}})]}):(0,s.jsx)(f.Z,{className:"frosted-glass-teal mobile:py-2 mobile:text-xs",onClick:()=>{Z?c.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit"}):a.ZP.setState({isWalletSelectorShown:!w})},children:Z?"Start Staking":w?"Connecting...":"Connect Wallet"})})]}),(0,s.jsxs)(x.Z,{is:j?"Col":"Row",className:(0,r.m)("p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3"),children:[(0,s.jsx)(k.Z,{className:"flex-grow divide-x-1.5 w-full",children:(0,E.lr)(b)&&(null===(n=b.rewards)||void 0===n?void 0:n.map((e,t)=>{var n,l,i;return e.userHavedReward&&(0,s.jsxs)("div",{className:"px-4 ".concat(0===t?"pl-0":""," ").concat(t===b.rewards.length-1?"pr-0":""," border-[rgba(171,196,255,.5)]"),children:[(0,s.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Pending rewards"}),(0,s.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[(0,B.B)(null!==(v=e.userPendingReward)&&void 0!==v?v:0)," ",null===(n=e.token)||void 0===n?void 0:n.symbol]}),(0,s.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:(null==h?void 0:h[String(null===(l=e.token)||void 0===l?void 0:l.mint)])&&(null==e?void 0:e.userPendingReward)?(0,C.Z)((0,A.Z)(e.userPendingReward,h[String(null===(i=e.token)||void 0===i?void 0:i.mint)])):"--"})]},t)}))}),(0,s.jsx)(f.Z,{className:"frosted-glass frosted-glass-teal rounded-xl mobile:w-full mobile:py-2 mobile:text-xs whitespace-nowrap",isLoading:S,onClick:()=>{(0,E.lr)(b)&&(0,o.Z)(b,{isStaking:!0,rewardAmounts:b.rewards.map(e=>{let{userPendingReward:t}=e;return t}).filter(R.$u)})},validators:[{should:Z,forceActive:!0,fallbackProps:{onClick:()=>a.ZP.setState({isWalletSelectorShown:!0}),children:w?"Connecting...":"Connect Wallet"}},{should:N}],children:"Harvest"})]})]})}function W(e){let{info:t}=e,n=(0,a.ZP)(e=>e.isMobile);return(0,s.jsxs)(x.Z,{is:n?"Col":"Row",className:"clickable flex-wrap items-center mobile:items-start",children:[(0,s.jsx)(g.Z,{size:n?"sm":"md",token:(0,E.lr)(t)?t.base:void 0,className:"justify-self-center mr-2"}),(0,s.jsx)("div",{className:"mobile:text-xs font-medium mobile:mt-px mr-1.5",children:t.symbol})]})}function O(e){let{name:t,value:n,subValue:l,className:i}=e;return(0,s.jsxs)(v.Z,{className:(0,r.m)("w-max",i),children:[(0,s.jsx)("div",{className:"mb-1 text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:t}),(0,s.jsxs)(v.Z,{className:"flex-grow justify-center",children:[(0,s.jsx)("div",{className:"text-base mobile:text-xs",children:n||"--"}),l&&(0,s.jsx)("div",{className:"text-sm mobile:text-2xs text-[rgba(171,196,255,0.5)]",children:l})]})]})}}},function(e){e.O(0,[7239,5830,2820,7664,4847,9774,2888,179],function(){return e(e.s=25062)}),_N_E=e.O()}]);