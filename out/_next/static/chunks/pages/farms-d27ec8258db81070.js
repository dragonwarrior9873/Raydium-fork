(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7669],{49895:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farms",function(){return s(62902)}])},77023:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(72305),i=s(79938),l=s(62707),a=s(34003),r=s(19036),o=s(53002),c=s(49641);async function d(e,t){return(0,i.ZP)(async s=>{let{transactionCollector:d,baseUtils:{owner:m,connection:u}}=s;(0,a.Z)(m,"require connected wallet");let x=c.Z.getState().jsonInfos.find(t=>{let{id:s}=t;return String(s)===String(e.id)});(0,a.Z)(x,"Farm pool not found");let f=(0,r.R)(x),{tokenAccountRawInfos:h,txVersion:p}=o.Z.getState(),{innerTransactions:g}=await n.l6j.makeDepositInstructionSimple({connection:u,poolKeys:f,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:m,wallet:m,tokenAccounts:h},lookupTableCache:i.eq,makeTxVersion:p,amount:t.amount.raw,checkCreateATAOwner:!0}),b=(0,l.AX)(()=>{c.Z.getState().refreshFarmInfos()},{once:!0});d.add(g,{onTxError:()=>(0,l.Ce)(b),onTxSentError:()=>(0,l.Ce)(b),txHistoryInfo:{title:"Add ".concat(t.amount.token.symbol),description:"Stake ".concat(t.amount.toExact()," ").concat(t.amount.token.symbol)}})})}},19390:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(72305),i=s(79938),l=s(62707),a=s(34003),r=s(71375),o=s(53002),c=s(49641);async function d(e,t){return(0,i.ZP)(async s=>{let{transactionCollector:d,baseUtils:{owner:m,connection:u}}=s;(0,a.Z)(m,"require connected wallet");let x=c.Z.getState().jsonInfos.find(t=>{let{id:s}=t;return String(s)===String(e.id)});(0,a.Z)(x,"Farm pool not found");let{tokenAccountRawInfos:f,txVersion:h}=o.Z.getState(),{innerTransactions:p}=await n.l6j.makeWithdrawInstructionSimple({connection:u,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:m,wallet:m,tokenAccounts:f},amount:(0,r.Z)(0),checkCreateATAOwner:!0,makeTxVersion:h,lookupTableCache:i.eq}),g=(0,l.AX)(()=>{c.Z.getState().refreshFarmInfos()},{once:!0});d.add(p,{onTxError:()=>(0,l.Ce)(g),onTxSentError:()=>(0,l.Ce)(g),onTxSuccess:()=>{setTimeout(()=>{c.Z.getState().refreshFarmInfos()},300)},txHistoryInfo:{title:"Harvest ".concat(t.rewardAmounts.map(e=>{let{token:t}=e;return t.symbol}).join(", ")),description:"Harvest ".concat(t.rewardAmounts.map(e=>"".concat(e.toExact()," ").concat(e.token.symbol)).join(", "))}})})}},1151:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(72305),i=s(82187),l=s(79938),a=s(62707),r=s(34003),o=s(53002),c=s(49641);async function d(e,t){return(0,l.ZP)(async s=>{let{transactionCollector:d,baseUtils:{owner:m,connection:u}}=s,x=(0,i.p)();(0,r.Z)(m,"require connected wallet");let f=c.Z.getState().jsonInfos.find(t=>{let{id:s}=t;return String(s)===String(e.id)});(0,r.Z)(f,"Farm pool not found");let{tokenAccountRawInfos:h,txVersion:p}=o.Z.getState(),g=await n.l6j.makeWithdrawInstructionSimple({connection:u,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:m,wallet:m,tokenAccounts:h},amount:t.amount.raw,checkCreateATAOwner:!0,makeTxVersion:p,lookupTableCache:l.eq});x.addInnerTransactions(...g.innerTransactions);let b=(0,a.AX)(()=>{c.Z.getState().refreshFarmInfos()},{once:!0});d.add(x.spawnTransactionQueue(),{onTxError:()=>(0,a.Ce)(b),onTxSentError:()=>(0,a.Ce)(b),txHistoryInfo:{title:"Unstake ".concat(t.amount.token.symbol),description:"Unstake ".concat(t.amount.toExact()," ").concat(t.amount.token.symbol)}})})}},82187:function(e,t,s){"use strict";s.d(t,{p:function(){return i}});var n=s(73944);let i=e=>{let t=null,s=[],i=[],l=[];function a(){let l=t||(null!=e?e:new n.YW);return(s.length||i.length)&&l.add(...s,...i.reverse()),l}return{setRawTransaction:function(e){t=e},addInstruction:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.push(...t)},addEndInstruction:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];i.push(...t)},addInnerTransactions:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];l.push(...t)},spawnTransaction:a,spawnTransactionQueue:function(){return s.length||i.length?[...l,a()]:l}}}},68186:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(85893),i=s(16938),l=s(54592),a=s(60421),r=s(51800);function o(e){let{is:t,ColProps:s,RowProps:o,GridProps:c,...d}=e;return"Row"===t?(0,n.jsx)(r.Z,{...d,...o}):"Col"===t?(0,n.jsx)(l.Z,{...d,...s}):"Grid"===t?(0,n.jsx)(a.Z,{...d,...c}):"div"===t?(0,n.jsx)("div",{...(0,i.CE)(d,["domRef"]),ref:d.domRef}):(0,n.jsx)(n.Fragment,{children:d.children})}},99645:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(85893);function i(e){let{className:t}=e;return(0,n.jsxs)("div",{className:"lds-roller ".concat(null!=t?t:""," mobile:scale-75"),children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})}},28424:function(e,t,s){"use strict";s.d(t,{$:function(){return a}});var n=s(85893),i=s(40471),l=s(92618);function a(){return(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(i.Z,{src:"/coins/open-book-tip.png",fallbackSrc:"/coins/unknown.svg",width:80}),(0,n.jsx)(l.Z.Panel,{children:(0,n.jsxs)("div",{className:"max-w-[300px]",children:["This pool leverages liquidity to market make on the OpenBook central limit order book."," ",(0,n.jsx)("a",{href:"https://docs.raydium.io/raydium/updates/integration-with-openbook",style:{color:"#39D0D8"},children:"Learn more"})]})})]})}},41618:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(67294);function i(e,t){let s=(0,n.useRef)(!1),i=()=>s.current=!0;(0,n.useEffect)(()=>{if(!s.current)return e({runed:i})},t)}},62902:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eP}});var n=s(85893),i=s(67294),l=s(66180),a=s(69221),r=s(59277),o=s(91371),c=s(94678),d=s(96662),m=s(13521),u=s(52869),x=s(77023),f=s(19390),h=s(72305),p=s(79938),g=s(62707),b=s(34003),Z=s(3363),j=s(53002),v=s(49641);let k=(0,p.Kb)(e=>async t=>{let{transactionCollector:s,baseUtils:{connection:n,owner:i}}=t,l=null==e?void 0:e.infos;(0,b.Z)(l,"should have harvest target");let{tokenAccountRawInfos:a,txVersion:r}=j.Z.getState(),{innerTransactions:o}=await h.l6j.makeHarvestAllRewardInstructionSimple({connection:n,fetchPoolInfos:Object.fromEntries(l.map(e=>[(0,Z.ZP)(e.id),e.fetchedMultiInfo])),ownerInfo:{feePayer:i,wallet:i,tokenAccounts:a,useSOLBalance:!0},associatedOnly:!1,checkCreateATAOwner:!0,makeTxVersion:r,lookupTableCache:p.eq}),c=(0,g.AX)(()=>{v.Z.getState().refreshFarmInfos()},{once:!0}),d=o.map((e,t)=>[e,{onTxError:()=>(0,g.Ce)(c),onTxSentError:()=>(0,g.Ce)(c),onTxSuccess:()=>{setTimeout(()=>{v.Z.getState().refreshFarmInfos()},300)},txHistoryInfo:{title:"Harvested All Farms",description:"Harvested all farms"}}]);s.add(d)});var w=s(1151),y=s(91148),N=s(52225),P=s(17097),S=s(47675),C=s(57435),T=s(94355),F=s(2148),I=s(31555),A=s(31166),E=s(80582),L=s(99522),M=s(68186),R=s(11601),D=s(43067),q=s(6994),z=s(70745),O=s(54531),B=s(97664),V=s(54592),U=s(23484),H=s(88132),W=s(60421),K=s(48162),_=s(82727),$=s(50321),X=s(99645),Q=s(11583),Y=s(28424),G=s(85830),J=s(36868),ee=s(33674),et=s(6325),es=s(51800),en=s(95111),ei=s(15144),el=s(29197),ea=s(92618),er=s(56419),eo=s(90547),ec=s(86597),ed=s(14033),em=s(99881),eu=s(18074),ex=s(62952),ef=s(1758),eh=s(95865),ep=s(4465),eg=s(81451),eb=s(51523),eZ=s(72573),ej=s(58819),ev=s(73766),ek=s(41618),ew=s(98590),ey=s(61652),eN=s(24608);function eP(){let e=(0,S.mu)();(0,N.Z)(()=>{let e=function(){var e,t;let s=(0,S.mu)(),n=String(null!==(t=null!==(e=s.farmId)&&void 0!==e?e:s.farmid)&&void 0!==t?t:"")||void 0;return(0,P.gm)(n)?n:void 0}();e&&v.Z.setState(t=>({expandedItemIds:(0,y.jX)(t.expandedItemIds,e),searchText:e}))},{effectMethod:"isoLayoutEffect"}),function(){let e=(0,j.Z)(e=>e.owner);(0,i.useEffect)(()=>{e&&v.Z.setState({onlySelfCreatedFarms:!1})},[e])}();let t=(0,v.Z)(e=>e.currentTab);return(0,i.useEffect)(()=>{v.Z.setState({currentTab:e.tab})},[e]),(0,n.jsxs)(G.Z,{mobileBarTitle:{items:[{value:"Raydium",barLabel:"Raydium Farm"},{value:"Fusion",barLabel:"Fusion Farm"},{value:"Ecosystem",barLabel:"Ecosystem Farm"},{value:"Staked",barLabel:"Staked Farm"}],currentValue:t,onChange:e=>v.Z.setState({currentTab:e}),urlSearchQueryKey:"tab",drawerTitle:"FARMS"},contentButtonPaddingShorter:!0,metaTitle:"Farms - Raydium",children:[(0,n.jsx)(eS,{}),(0,n.jsx)(eq,{})]})}function eS(){let e=(0,o.ZP)(e=>e.isMobile);return e?null:(0,n.jsx)(V.Z,{children:(0,n.jsxs)(W.Z,{className:"grid-cols-3 justify-between items-center pb-8 pt-0",children:[(0,n.jsx)("div",{className:"text-2xl font-semibold justify-self-start text-white",children:"Farms"}),(0,n.jsx)(eL,{}),(0,n.jsx)(eE,{})]})})}function eC(e){let{className:t,dataSource:s}=e;return(0,v.Z)(e=>e.currentTab),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(J.Z,{placement:"bottom-right",children:[(0,n.jsx)(J.Z.Button,{children:(0,n.jsx)("div",{className:(0,l.m)("mx-1 rounded-full p-2 text-[#abc4ff] clickable justify-self-start",t),children:(0,n.jsx)(K.Z,{className:"w-4 h-4",iconClassName:"w-4 h-4",heroIconName:"dots-vertical"})})}),(0,n.jsx)(J.Z.Panel,{children:(0,n.jsx)("div",{children:(0,n.jsx)(q.Z,{className:"flex flex-col py-3 px-4  max-h-[80vh] border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:(0,n.jsxs)(W.Z,{className:"grid-cols-1 items-center gap-2",children:[(0,n.jsx)(eI,{}),(0,n.jsx)(eD,{}),(0,n.jsx)(eM,{}),(0,n.jsx)(eE,{}),(0,n.jsx)(eT,{infos:s.filter(e=>{var t;return(0,u.lr)(e)&&(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited)})})]})})})})]})})}function eT(e){let{infos:t}=e,s=(0,o.ZP)(e=>e.isApprovePanelShown),l=(0,j.Z)(e=>e.connected),a=(0,o.ZP)(e=>e.isMobile),r=(0,i.useMemo)(()=>!!t.length,[t]);return(0,n.jsx)(D.Z,{className:"frosted-glass-teal",isLoading:s,validators:[{should:l},{should:r}],onClick:()=>{k({infos:t})},size:a?"xs":"sm",children:"Harvest all"})}function eF(e){let{className:t}=e,s=(0,o.ZP)(e=>e.isMobile),a=(0,v.Z)(e=>e.searchText),r=(0,i.useRef)(null),[c,d]=(0,i.useState)(!1),m=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{m.current||setTimeout(()=>{if(m.current=!0,a){var e;d(!0),null===(e=r.current)||void 0===e||e.open()}},600)},[a]),(0,n.jsx)(_.Z,{value:a,className:(0,l.m)("px-2 py-2 mobile:py-1 gap-2 ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-xl mobile:rounded-lg pc:w-[12vw] mobile:w-auto",t),inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255,0.5)] placeholder-[rgba(196,214,255,0.5)]",prefix:(0,n.jsx)(K.Z,{heroIconName:"search",size:s?"sm":"smi",className:"text-[rgba(196,214,255,0.5)]"}),suffix:(0,n.jsxs)(ea.Z,{disable:!c,componentRef:r,children:[(0,n.jsx)(K.Z,{heroIconName:"x",size:s?"xs":"sm",className:"text-[rgba(196,214,255,0.5)] transition clickable ".concat(a?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>{v.Z.setState({searchText:""})}}),(0,n.jsx)(ea.Z.Panel,{children:"Click here to view all farm pools"})]}),placeholder:"Search All",onUserInput:e=>{v.Z.setState({searchText:e})}})}function eI(e){let{className:t}=e,s=(0,v.Z)(e=>e.onlySelfFarms),i=(0,j.Z)(e=>e.connected),l=(0,v.Z)(e=>e.currentTab);return i&&"Staked"!==l?(0,n.jsxs)(es.Z,{className:"justify-self-end  mobile:justify-self-auto items-center",children:[(0,n.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] whitespace-nowrap font-medium text-sm mobile:text-xs",children:"Show Staked"}),(0,n.jsx)(ei.Z,{className:"ml-2 ",defaultChecked:s,onToggle:e=>v.Z.setState({onlySelfFarms:e})})]}):null}function eA(e){let{className:t}=e,s=(0,v.Z)(e=>e.onlySelfCreatedFarms);return(0,n.jsxs)(es.Z,{className:"justify-self-end  mobile:justify-self-auto items-center",children:[(0,n.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] whitespace-nowrap font-medium text-sm mobile:text-xs",children:"Show Created"}),(0,n.jsx)(ei.Z,{className:"ml-2 ",checked:s,onToggle:e=>v.Z.setState({onlySelfCreatedFarms:e})})]})}function eE(e){let{className:t}=e;return(0,n.jsxs)(es.Z,{className:(0,l.m)("justify-self-end mobile:justify-self-auto gap-1 py-1 flex-wrap items-center opacity-100 pointer-events-auto clickable transition",t),onClick:()=>{(0,I.Eh)("/farms/create")},children:[(0,n.jsx)(K.Z,{heroIconName:"plus-circle",className:"text-[#abc4ff] mobile:text-[#abc4ff80]",size:"sm"}),(0,n.jsx)("span",{className:"text-[#abc4ff] mobile:text-[#abc4ff80] font-medium text-sm mobile:text-xs",children:"Create Farm"})]})}function eL(e){let{className:t}=e,s=(0,v.Z)(e=>e.currentTab),i=(0,o.ZP)(e=>e.isMobile);return i?(0,n.jsx)(el.Z,{currentValue:s,urlSearchQueryKey:"tab",values:(0,y.DB)(["Raydium","Fusion","Ecosystem","Staked"]),onChange:e=>v.Z.setState({currentTab:e}),className:t}):(0,n.jsx)(el.Z,{currentValue:s,urlSearchQueryKey:"tab",values:(0,y.DB)(["Raydium","Fusion","Ecosystem","Staked"]),onChange:e=>v.Z.setState({currentTab:e}),className:(0,l.m)("justify-self-center mobile:col-span-full",t)})}function eM(e){let{className:t}=e,s=(0,v.Z)(e=>e.timeBasis);return(0,n.jsx)(en.Z,{className:(0,l.m)("z-20",t),candidateValues:["24H","7D","30D"],localStorageKey:"ui-time-basis",defaultValue:s,prefix:"Time Basis:",onChange:e=>{v.Z.setState({timeBasis:null!=e?e:s})}})}function eR(e){let{className:t,onChange:s}=e,i=(0,v.Z)(e=>e.timeBasis);return(0,n.jsx)(en.Z,{className:t,candidateValues:[{label:"Farm",value:"name"},{label:"APRS ".concat(i),value:"24H"===i?"totalApr24h":"7D"===i?"totalApr7d":"totalApr30d"},{label:"TVL",value:"tvl"},{label:"Favorite",value:"favorite"}],prefix:"Sort by:",onChange:s})}function eD(e){let{className:t}=e,s=(0,v.Z)(e=>e.refreshFarmInfos),i=(0,o.ZP)(e=>e.isMobile);return i?(0,n.jsxs)(es.Z,{className:(0,l.m)("items-center",t),children:[(0,n.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] font-medium text-sm mobile:text-xs",children:"Refresh farms"}),(0,n.jsx)(ee.Z,{refreshKey:"farms",className:"justify-self-end",freshFunction:()=>{s()}})]}):(0,n.jsx)("div",{className:(0,l.m)("justify-self-end",t),children:(0,n.jsx)(ee.Z,{refreshKey:"farms",className:"justify-self-end",freshFunction:()=>{s()}})})}function eq(){let e=(0,v.Z)(e=>e.jsonInfos),t=(0,v.Z)(e=>e.hydratedInfos),s=(0,v.Z)(e=>e.currentTab),l=(0,v.Z)(e=>e.onlySelfFarms),a=(0,v.Z)(e=>e.tokenType),r=(0,v.Z)(e=>e.onlySelfCreatedFarms),c=(0,v.Z)(e=>e.searchText),d=(0,eN.nj)(c,{debouncedOptions:{delay:100}}),[m]=(0,v.W)(),x=(0,o.ZP)(e=>e.isMobile),f=(0,j.Z)(e=>e.owner),h=(0,v.Z)(e=>e.isLoading),p=(0,v.Z)(e=>e.timeBasis),g=(t.length?t:e).filter(e=>!(0,ep.aT)(e.lpMint,E.PD)),b=(0,i.useMemo)(()=>g.filter(e=>{var t;return"Fusion"===s?"fusion"===e.category&&(!(0,u.lr)(e)||!e.isClosedPool):"Staked"===s?!!(0,u.lr)(e)&&(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited):"Ecosystem"===s?"ecosystem"===e.category:"raydium"===e.category&&(!(0,u.lr)(e)||!e.isClosedPool)}),[s,g]);b.some(e=>(0,ep.aT)(e.creator,f));let k=(0,i.useMemo)(()=>b.filter(e=>{var t;return!(0,u.lr)(e)||!e.isClosedPool||(0,ep.aT)(e.creator,f)||(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited)}).filter(e=>!(l&&(0,u.lr)(e))||e.ledger&&(0,eg.$u)(e.ledger.deposited)).filter(e=>!r||!f||(0,ep.aT)(e.creator,f)&&6===e.version).filter(e=>!(6===e.version&&(0,u.lr)(e))||("Option tokens"===a?e.rewards.some(e=>e.isOptionToken):"Standard SPL"!==a||!e.rewards.some(e=>e.isOptionToken))),[l,r,b,f]),w=(0,A.ZP)(e=>e.isTokenUnnamedAndNotUserCustomized),y=(0,i.useDeferredValue)((0,i.useMemo)(()=>(0,ej.K)(k,{text:d,matchConfigs:e=>{var t,s;return(0,u.lr)(e)?[{text:(0,Z.ZP)(e.id),entirely:!0},{text:e.ammId,entirely:!0},{text:(0,Z.ZP)(null===(t=e.base)||void 0===t?void 0:t.mint),entirely:!0},{text:(0,Z.ZP)(null===(s=e.quote)||void 0===s?void 0:s.mint),entirely:!0},e.base&&!w(e.base.mint)?e.base.symbol:void 0,e.quote&&!w(e.quote.mint)?e.quote.symbol:void 0,{text:(0,Z.ZP)(e.lpMint),entirely:!0}]:[{text:(0,Z.ZP)(e.id),entirely:!0},{text:(0,Z.ZP)(e.lpMint),entirely:!0}]}}),[k,d])),{sortedData:N,setConfig:P,sortConfig:S,clearSortConfig:C}=(0,ew.Z)(y,{backgroundSortConfig:{key:"defaultKey",sortCompare:[e=>null==m?void 0:m.includes((0,Z.ZP)(e.id))]}});(0,ek.Z)(e=>{let{runed:t}=e;void 0!==m&&t(),null!=m&&P({key:"init",sortCompare:[e=>null==m?void 0:m.includes((0,Z.ZP)(e.id))],mode:"decrease"})},[m]),(0,i.useEffect)(()=>{P({key:"init by currentTab",sortCompare:[e=>null==m?void 0:m.includes((0,Z.ZP)(e.id))],mode:"decrease"})},[s]);let T="Ecosystem"===s?{title:"Ecosystem Farms",description:"Stake and earn Solana Ecosystem token rewards",tooltip:"Ecosystem Farms allow any project or user to create a farm in a decentralized manner to incentivize liquidity providers. Rewards are locked for the duration on the farm. However, creator liquidity is not locked."}:"Fusion"===s?{title:"Fusion Farms",description:"Stake LP tokens and earn project token rewards"}:"Staked"===s?{title:"Your Staked Farms",description:"You are currently staked in these farms"}:{title:"Raydium Farms",description:"Stake LP tokens and earn token rewards"},F=x?(0,n.jsx)("div",{children:(0,n.jsxs)(es.Z,{className:"mb-4",children:[(0,n.jsxs)(W.Z,{className:"grow gap-2 grid-cols-auto-fit",children:[(0,n.jsx)(eF,{}),(0,n.jsx)(eR,{onChange:e=>{e?P({key:e,sortCompare:"favorite"===e?e=>null==m?void 0:m.includes((0,Z.ZP)(e.id)):t=>t[e]}):C()}})]}),(0,n.jsx)(eC,{className:"self-center",dataSource:g})]})}):(0,n.jsxs)(es.Z,{className:"justify-between gap-16 gap-y-4 items-center mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(es.Z,{className:"items-center",children:[(0,n.jsx)("div",{className:"font-medium text-white text-lg",children:T.title}),T.tooltip&&(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsx)(ea.Z.Panel,{className:"max-w-[300px]",children:T.tooltip})]})]}),(0,n.jsx)("div",{className:"font-medium text-[rgba(196,214,255,.5)] text-base ",children:T.description})]}),(0,n.jsxs)(es.Z,{className:"grow flex-wrap justify-end items-stretch gap-6",children:[f&&("Ecosystem"===s||"Staked"===s)?(0,n.jsx)(eA,{}):null,(0,n.jsx)(eT,{infos:g.filter(e=>{var t;return(0,u.lr)(e)&&(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited)})}),(0,n.jsx)(eM,{}),(0,n.jsx)(eF,{})]})]});return(0,n.jsxs)(H.Z,{haveMinHeight:!0,wrapperClassName:"flex-1 overflow-hidden flex flex-col",className:"grow p-10 pt-6 pb-4 mobile:px-3 mobile:py-3 w-full flex flex-col h-full",children:[F,!x&&(0,n.jsxs)(es.Z,{type:"grid-x",className:"mb-3 h-12  sticky -top-6 backdrop-filter z-10 backdrop-blur-md bg-[rgba(20,16,65,0.2)] mr-scrollbar rounded-xl mobile:rounded-lg gap-2 grid-cols-[auto,1.5fr,1.2fr,1fr,1fr,auto]",children:[(0,n.jsx)(es.Z,{className:"w-20 pl-9"}),(0,n.jsxs)(es.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>{P({key:"name",sortModeQueue:["increase","decrease","none"],sortCompare:e=>(0,u.lr)(e)?e.symbol:void 0})},children:[(0,n.jsx)("div",{className:"mr-16"}),"Farm",(0,n.jsx)(K.Z,{className:"ml-1",size:"sm",iconSrc:(null==S?void 0:S.key)==="name"&&"none"!==S.mode?(null==S?void 0:S.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]}),(0,n.jsx)("div",{className:" font-medium self-center text-[#ABC4FF] text-sm",children:"Pending Reward"}),(0,n.jsxs)(es.Z,{className:" font-medium items-center text-[#ABC4FF] text-sm cursor-pointer gap-1  clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>{let e="24H"===p?"totalApr24h":"7D"===p?"totalApr7d":"totalApr30d";P({key:e,sortCompare:t=>(0,u.lr)(t)?t[e]:void 0})},children:["Total APR ",p,(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsxs)(ea.Z.Panel,{children:["Estimated APR based on trading fees earned by the pool in the past ",p]})]}),(0,n.jsx)(K.Z,{className:"ml-1",size:"sm",iconSrc:(null==S?void 0:S.key.startsWith("totalApr"))&&"none"!==S.mode?(null==S?void 0:S.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]}),(0,n.jsxs)(es.Z,{className:" font-medium text-[#ABC4FF] text-sm items-center cursor-pointer  clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>P({key:"tvl",sortCompare:e=>(0,u.lr)(e)?e.tvl:void 0}),children:["TVL",(0,n.jsx)(K.Z,{className:"ml-1",size:"sm",iconSrc:(null==S?void 0:S.key)==="tvl"&&"none"!==S.mode?(null==S?void 0:S.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]}),(0,n.jsx)(eD,{className:"pr-8 self-center"})]}),(0,n.jsx)(ez,{isLoading:h,infos:N})]})}function ez(e){let{isLoading:t,infos:s}=e,i=(0,v.Z)(e=>e.expandedItemIds),l=(0,c.ZP)(e=>e.isMigrateToClmmDialogOpen),[a,r]=(0,v.W)(),o=(0,v.Z)(e=>e.currentDialogInfo);return(0,n.jsxs)(n.Fragment,{children:[s.length?(0,n.jsx)($.Z,{items:s,getItemKey:e=>(0,Z.ZP)(e.id),className:"gap-3 text-[#ABC4FF] flex-1 -mx-2 px-2",children:e=>(0,n.jsxs)(U.Z,{open:i.has((0,Z.ZP)(e.id)),onToggle:()=>{v.Z.setState(t=>({expandedItemIds:(0,ev.hU)(t.expandedItemIds,(0,Z.ZP)(e.id))}))},children:[(0,n.jsx)(U.Z.Face,{children:t=>{let{isOpen:s}=t;return(0,n.jsx)(eB,{open:s,info:e,isFavourite:null==a?void 0:a.includes((0,Z.ZP)(e.id)),onUnFavorite:e=>{r(t=>(0,y.cl)(null!=t?t:[],e))},onStartFavorite:e=>{r(t=>(0,y.jX)(null!=t?t:[],e))}})}}),(0,n.jsx)(U.Z.Body,{children:t?null:(0,n.jsx)(eV,{farmInfo:e})})]})}):(0,n.jsx)(es.Z,{className:"text-center justify-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:t?(0,n.jsx)(X.Z,{}):"(No results found)"}),(0,n.jsx)(eU,{}),o&&(0,n.jsx)(ey.Z,{info:o,open:l,onClose:()=>c.ZP.setState({isMigrateToClmmDialogOpen:!1})})]})}function eO(e){var t,s,i,l,a,r,c,d;let{farmInfo:m,reward:u}=e,x=(0,o.ZP)(e=>e.isMobile),f=(0,A.ZP)(e=>e.tokenListSettings),h=f["UnNamed Token List"].mints;if(!u)return null;let p=!!(0,P.Vr)(u)||u.isRewarding,g=!(0,P.Vr)(u)&&u.isRewardEnded,b=!(0,P.Vr)(u)&&u.isRewardBeforeStart,j=(0,P.Vr)(u)?u:u.userPendingReward,v=(0,A.ZP)(e=>e.tokenPrices);return(0,n.jsxs)(ea.Z,{placement:"bottom",children:[(0,n.jsxs)(es.Z,{className:"ring-1 ring-inset ".concat((0,P.Vr)(u)?"ring-[#abc4ff80]":u.isOptionToken?"ring-[#DA2EEF]":"ring-[#abc4ff80]"," p-1 rounded-full items-center gap-2 overflow-hidden ").concat(p?"":g?"opacity-30 contrast-40":"opacity-50"," ").concat(""),children:[(0,eg.gt)(j,.001)&&(0,n.jsx)("div",{className:"text-xs translate-y-0.125 pl-1",children:(0,em.Z)((0,eZ.B)(j),{fractionLength:3})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(z.Z,{size:"smi",token:u.token,className:b?"blur-sm":""}),g&&(0,n.jsx)("div",{className:"absolute h-[1.5px] w-full top-1/2 -translate-y-1/2 rotate-45 bg-[#abc4ff80] scale-x-125"}),b&&(0,n.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 opacity-70",children:(0,n.jsx)(K.Z,{heroIconName:"dots-horizontal"})})]})]}),(0,n.jsxs)(ea.Z.Panel,{children:[(0,n.jsxs)(es.Z,{className:"text-sm justify-between items-center min-w-[260px] gap-4 mb-1",children:[(0,n.jsxs)(es.Z,{className:"gap-1.5 items-center",children:[(0,n.jsx)(z.Z,{size:x?"xs":"smi",token:u.token}),g||(0,P.Vr)(u)?(0,n.jsx)("span",{className:"text-[#ABC4FF]",children:null!==(r=null===(t=u.token)||void 0===t?void 0:t.symbol)&&void 0!==r?r:"--"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-white",children:(0,em.Z)((0,eZ.B)(u.perWeek))}),(0,n.jsxs)("span",{className:"text-[#ABC4FF]",children:[null!==(c=null===(s=u.token)||void 0===s?void 0:s.symbol)&&void 0!==c?c:"--"," per week"]})]})]}),g||(0,P.Vr)(u)?null:(0,n.jsx)("span",{className:"text-white/50",children:(0,eh.Z)((0,ef.Z)(u.perWeek,null!==(d=v[(0,Z.ZP)(null===(i=u.token)||void 0===i?void 0:i.mint)])&&void 0!==d?d:null),{decimalPlace:0})})]}),(0,n.jsx)("div",{className:"mb-1",children:!(0,P.Vr)(u)&&u.openTime&&u.endTime&&(g?"Reward Ended":b?"Reward Not Started":"Reward Period")}),u.openTime&&b&&(0,n.jsxs)("div",{className:"opacity-50",children:["Start in ",(0,eo.dS)(u.openTime)]}),!(0,P.Vr)(u)&&u.openTime&&u.endTime&&(0,n.jsxs)("div",{className:"opacity-50",children:[(0,er.xn)(u.openTime,{hideHourMinuteSecond:!0})," ~"," ",(0,er.xn)(u.endTime,{hideHourMinuteSecond:!0})]}),(null===(l=u.token)||void 0===l?void 0:l.mint)&&(0,n.jsx)(L.U,{showDigitCount:6,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"text-xs",className:"w-full opacity-50 mt-2 contrast-75",children:(0,Z.ZP)(u.token.mint)}),(null==h?void 0:h.has((0,Z.ZP)(null===(a=u.token)||void 0===a?void 0:a.mint)))&&(0,n.jsx)("div",{className:"max-w-[220px] mt-2",children:"This token does not currently have a ticker symbol. Check to ensure it is the token you want to interact with."})]})]})}function eB(e){let{open:t,className:s,info:a,isFavourite:r,onUnFavorite:c,onStartFavorite:m}=e,x=(0,v.Z)(e=>e.jsonFarmAprInfos),f=x.find(e=>e.id===(0,Z.ZP)(a.id)),h=(0,o.ZP)(e=>e.isMobile),p=(0,v.Z)(e=>e.timeBasis),g=!(0,u.aE)(a)&&a.rewards.some(e=>e.isOptionToken),b=(0,u.aE)(a)?void 0:a["24H"===p?"totalApr24h":"30D"===p?"totalApr30d":"totalApr7d"],j=(0,u.aE)(a)?void 0:a["24H"===p?"raydiumFeeApr24h":"30D"===p?"raydiumFeeApr30d":"raydiumFeeApr7d"],k=(0,d.ZP)(e=>e.chainTimeOffset),w=e=>{var t,s;let n=Date.now()+(null!=k?k:0);return(null!==(t=e.endTime)&&void 0!==t?t:new Date).getTime()<n?1:(null!==(s=e.openTime)&&void 0!==s?s:new Date).getTime()>n?-1:0},y=(0,n.jsxs)(es.Z,{type:"grid-x",className:(0,l.m)("py-5 mobile:py-4 mobile:px-5 ".concat(a.local?"border-2 border-[#DA2EEF]":""," bg-[#141041] items-stretch gap-2 grid-cols-[auto,1.5fr,1.2fr,1fr,1fr,auto] mobile:grid-cols-[1fr,1fr,1fr,auto] rounded-t-3xl mobile:rounded-t-lg ").concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"," transition-all"),s),children:[(0,n.jsx)("div",{className:"w-12 self-center ml-6 mr-2",children:r?(0,n.jsx)(K.Z,{iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==c||c((0,Z.ZP)(a.id))},className:"clickable clickable-mask-offset-2 m-auto self-center"}):(0,n.jsx)(K.Z,{iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==m||m((0,Z.ZP)(a.id))},className:"clickable clickable-mask-offset-2 opacity-30 hover:opacity-80 transition m-auto self-center"})}),(0,n.jsx)(eH,{info:a,className:"self-center"}),6===a.version?(0,n.jsx)(eK,{name:"Pending Rewards",loading:(0,u.aE)(a)||!a.rewards,value:(0,n.jsx)(es.Z,{className:"flex-wrap items-center gap-2 w-full pr-8",children:(0,u.aE)(a)?"--":(0,n.jsxs)(n.Fragment,{children:[[...a.rewards].sort((e,t)=>w(e)-w(t)).map(e=>(0,n.jsx)(i.Fragment,{children:(0,n.jsx)(eO,{farmInfo:a,reward:e})},(0,Z.ZP)(e.rewardVault))),g&&(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(R.C,{cssColor:"#DA2EEF",children:"Option tokens"}),(0,n.jsx)(ea.Z.Panel,{children:"Reward token is an option, check token metadata and with token project on how to redeem. APR may be inaccurate."})]})]})})}):(0,n.jsx)(eK,{name:"Pending Rewards",loading:(0,u.aE)(a)||!a.rewards,value:(0,n.jsx)(es.Z,{className:"flex-wrap gap-2 w-full pr-8",children:(0,u.aE)(a)?"--":a.rewards.map(e=>{let{token:t,userPendingReward:s,userHavedReward:i}=e;return i&&t&&(0,n.jsx)("div",{children:(0,n.jsx)(eO,{farmInfo:a,reward:null!=s?s:(0,ex.n)(t,0)})},null==t?void 0:t.mintString)})})}),(0,n.jsx)(eK,{name:"Total APR ".concat(p),className:"w-max",loading:(0,u.aE)(a)||!b,value:(0,u.aE)(a)?"--":(0,n.jsxs)(es.Z,{className:"items-center",children:[(0,n.jsxs)(ea.Z,{placement:"right",children:[b?(0,eu.Z)(b):"--",(0,n.jsxs)(ea.Z.Panel,{children:[j&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:["Fees ",(0,eu.Z)(j)]}),a.rewards.map((e,t)=>{let{apr:s,token:i,userHavedReward:l}=e;return l&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:[null==i?void 0:i.symbol," ",(0,eu.Z)(s)]},t)})]})]}),g&&(0,n.jsxs)(ea.Z,{placement:"right",children:[(0,n.jsx)(K.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsx)(ea.Z.Panel,{children:(0,n.jsx)("div",{className:"max-w-[300px]",children:"Options APR is an estimate and varies based on token market price and expected strike price."})})]})]})}),(0,n.jsx)(eK,{name:"TVL",value:(0,u.lr)(a)&&a.tvl?"~".concat((0,eh.Z)(a.tvl,{decimalPlace:0})):f?"~".concat((0,eh.Z)(f.tvl,{decimalPlace:0})):"--",subValue:(0,u.lr)(a)&&a.stakedLpAmount?"".concat((0,em.Z)((0,eZ.B)(a.stakedLpAmount,{decimalLength:0}))," LP"):f&&0!==f.lpPrice?"".concat((0,em.Z)((0,eb.hi)(f.tvl,f.lpPrice),{fractionLength:0})," LP"):"--"}),(0,n.jsx)(W.Z,{className:"w-9 h-9 mr-8 place-items-center self-center",children:(0,n.jsx)(K.Z,{size:"sm",className:"justify-self-end mr-1.5",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]}),N=(0,n.jsxs)(U.Z,{open:t,children:[(0,n.jsx)(U.Z.Face,{children:(0,n.jsxs)(es.Z,{type:"grid-x",className:"py-4 px-5 mobile:p-2 items-stretch gap-2 grid-cols-[auto,1.1fr,1fr,1fr,auto] bg-[#141041] mobile:rounded-t-lg ".concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,n.jsx)("div",{className:"w-8 self-center ",children:r?(0,n.jsx)(K.Z,{className:"clickable m-auto self-center",iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==c||c((0,Z.ZP)(a.id))},size:"sm"}):(0,n.jsx)(K.Z,{className:"clickable opacity-30 hover:opacity-80 transition clickable-mask-offset-2 m-auto self-center",iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==m||m((0,Z.ZP)(a.id))},size:"sm"})}),(0,n.jsx)(eH,{info:a,className:"self-center"}),(0,n.jsx)(eK,{name:"TVL",value:(0,u.aE)(a)?"--":a.tvl?"≈".concat((0,eh.Z)(a.tvl,{autoSuffix:!0,decimalPlace:1})):"--",subValue:(0,u.aE)(a)?"--":a.stakedLpAmount&&"".concat((0,ed.S)(a.stakedLpAmount,{decimalPlace:1})," LP")}),(0,n.jsx)(eK,{name:"APR(".concat(p,")"),value:(0,u.aE)(a)?"--":(0,n.jsxs)(ea.Z,{placement:"right",children:[a.totalApr7d?(0,eu.Z)(a.totalApr7d):"--",(0,n.jsxs)(ea.Z.Panel,{children:[a.raydiumFeeApr7d&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:["Fees ",(0,eu.Z)(a.raydiumFeeApr7d)]}),a.rewards.map((e,t)=>{let{apr:s,token:i,userHavedReward:l}=e;return l&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:[null==i?void 0:i.symbol," ",(0,eu.Z)(s)]},t)})]})]})}),(0,n.jsx)(W.Z,{className:"w-6 h-6 place-items-center self-center",children:(0,n.jsx)(K.Z,{size:"sm",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]})}),(0,n.jsx)(U.Z.Body,{})]});return h?N:y}function eV(e){var t;let{farmInfo:s}=e,i=(0,F.O)(e=>e.lpPrices),l=(0,A.ZP)(e=>e.tokenPrices),r=(0,o.ZP)(e=>e.isMobile),d=(0,j.Z)(e=>e.connected),x=(0,j.Z)(e=>e.connecting),h=(0,j.Z)(e=>e.owner),p=(0,j.Z)(e=>e.balances),g=(0,eg.$u)(p[(0,Z.ZP)(s.lpMint)]),b=(0,u.lr)(s)&&s.rewards.some(e=>{let{userPendingReward:t}=e;return(0,eg.$u)(t)}),k=(0,T.Z)(e=>e.logSuccess),w=(0,o.ZP)(e=>e.isApprovePanelShown),N=(0,a.p)(e=>e.jsonInfos),P=null==N?void 0:N.some(e=>e.lpMint===(0,Z.ZP)(s.lpMint));return(0,u.aE)(s)?null:(0,n.jsxs)("div",{className:"rounded-b-3xl mobile:rounded-b-lg overflow-hidden",style:{background:"linear-gradient(126.6deg, rgba(171, 196, 255, 0.12), rgb(171 196 255 / 4%) 100%)"},children:[(0,n.jsxs)(M.Z,{is:r?"Col":"Row",className:"mobile:gap-3",children:[(0,n.jsxs)(M.Z,{is:r?"Col":"Grid",className:"grid-cols-[1fr,1.5fr] gap-8 mobile:gap-3 flex-grow px-8 py-5 mobile:px-4 mobile:py-3",children:[(0,n.jsxs)(es.Z,{className:"p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3",children:[(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Deposited"}),(0,n.jsx)("div",{className:"text-white font-medium text-base mobile:text-xs",children:i[String(s.lpMint)]&&s.userStakedLpAmount?(0,eh.Z)((0,ef.Z)(s.userStakedLpAmount,i[String(s.lpMint)])):"--"}),s.userStakedLpAmount&&(0,n.jsxs)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:[(0,em.Z)((0,eZ.B)(s.userStakedLpAmount),{fractionLength:null===(t=s.userStakedLpAmount)||void 0===t?void 0:t.token.decimals})," ","LP"]})]}),(0,n.jsx)(es.Z,{className:"gap-3",children:s.userHasStaked?(0,n.jsxs)(n.Fragment,{children:[P?(0,n.jsx)(D.Z,{className:"text-base mobile:text-sm font-medium frosted-glass frosted-glass-teal rounded-xl flex-grow",onClick:()=>{c.ZP.setState({isMigrateToClmmDialogOpen:!0}),v.Z.setState({currentDialogInfo:s})},children:"Migrate"}):(0,n.jsx)(D.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",disabled:s.isClosedPool&&!s.isUpcomingPool||!g,validators:[{should:!s.isClosedPool},{should:d,forceActive:!0,fallbackProps:{children:x?"Connecting":"Connect Wallet",onClick:x?void 0:()=>o.ZP.setState({isWalletSelectorShown:!0})}},{should:g,forceActive:!0,fallbackProps:{children:"Add Liquidity",onClick:()=>(0,I.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}],onClick:()=>{d?v.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit",currentDialogInfo:s}):o.ZP.setState({isWalletSelectorShown:!0})},children:"Stake"}),(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{size:r?"sm":"smi",heroIconName:"minus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{d?v.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"withdraw",currentDialogInfo:s}):o.ZP.setState({isWalletSelectorShown:!0})}}),(0,n.jsx)(ea.Z.Panel,{children:"Unstake LP"})]})]}):(0,n.jsx)(D.Z,{className:"frosted-glass-teal mobile:py-2 mobile:text-xs",validators:[{should:!s.isClosedPool},{should:d,forceActive:!0,fallbackProps:{children:x?"Connecting":"Connect Wallet",onClick:x?void 0:()=>o.ZP.setState({isWalletSelectorShown:!0})}},{should:g,forceActive:!0,fallbackProps:{children:"Add Liquidity",onClick:()=>(0,I.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}],onClick:()=>{v.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit",currentDialogInfo:s})},children:"Start Farming"})})]}),(0,n.jsxs)(M.Z,{is:r?"Col":"Row",className:"p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3",children:[(0,n.jsxs)("div",{className:"flex-grow w-full",children:[(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs ".concat(s.rewards.length>2?"mb-5":"mb-1"),children:"Pending rewards"}),(0,n.jsx)(W.Z,{className:"gap-board\n                   ".concat(s.rewards.filter(e=>6===e.version||e.userHavedReward).length>1?"grid-cols-2":"grid-cols-1"),style:{clipPath:"inset(17px)",margin:"-17px"},children:(0,y.Do)(s.rewards.map((e,t)=>{var i,a,r;return 6===s.version||e.userHavedReward?(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[e.userPendingReward?(0,eZ.B)(e.userPendingReward):0," ",null===(i=e.token)||void 0===i?void 0:i.symbol]}),(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:(null==l?void 0:l[String(null===(a=e.token)||void 0===a?void 0:a.mint)])&&(null==e?void 0:e.userPendingReward)?(0,eh.Z)((0,ef.Z)(e.userPendingReward,l[String(null===(r=e.token)||void 0===r?void 0:r.mint)])):null})]},t):void 0}))})]}),(0,n.jsx)(D.Z,{className:"frosted-glass-teal rounded-xl mobile:w-full mobile:py-2 mobile:text-xs whitespace-nowrap",isLoading:w,onClick:()=>{(0,f.Z)(s,{isStaking:!1,rewardAmounts:s.rewards.map(e=>{let{userPendingReward:t}=e;return t}).filter(eg.$u)})},validators:[{should:d,forceActive:!0,fallbackProps:{onClick:()=>o.ZP.setState({isWalletSelectorShown:!0}),children:x?"Connecting...":"Connect Wallet"}},{should:b}],children:"Harvest"})]})]}),(0,n.jsx)(es.Z,{className:"px-8 py-2 gap-3 items-center self-center justify-center ".concat(r?"bg-[rgba(20,16,65,.2)]":""," mobile:w-full"),children:r?(0,n.jsxs)(es.Z,{className:"gap-5",children:[(0,n.jsx)(K.Z,{size:"sm",heroIconName:"link",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,ec.Z)(new URL("farms/?tab=".concat(v.Z.getState().currentTab,"&farmid=").concat((0,Z.ZP)(s.id)),window.location.origin).toString()).then(()=>{k("Copy Farm Link",(0,n.jsxs)("div",{children:["Farm ID: ",(0,Z.ZP)(s.id)]}))})}}),(0,n.jsx)(K.Z,{size:"sm",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,I.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}),(0,n.jsx)(K.Z,{size:"sm",iconSrc:"/icons/msic-swap-h.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,I.Eh)("/swap",{queryProps:{coin1:s.base,coin2:s.quote}})}})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{size:"smi",heroIconName:"link",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,ec.Z)(new URL("farms/?tab=".concat(v.Z.getState().currentTab,"&farmid=").concat((0,Z.ZP)(s.id)),window.location.origin).toString()).then(()=>{k("Copy Farm Link",(0,n.jsxs)("div",{children:["Farm ID: ",(0,Z.ZP)(s.id)]}))})}}),(0,n.jsx)(ea.Z.Panel,{children:"Copy Farm Link"})]}),(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{size:"smi",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,I.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}),(0,n.jsx)(ea.Z.Panel,{children:"Add Liquidity"})]}),(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{size:"smi",iconSrc:"/icons/msic-swap-h.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,I.Eh)("/swap",{queryProps:{coin1:s.base,coin2:s.quote}})}}),(0,n.jsx)(ea.Z.Panel,{children:"Swap"})]})]})})]}),(0,ep.aT)(s.creator,h)&&(0,n.jsx)(es.Z,{className:"bg-[#14104133] py-3 px-8 justify-end",children:(0,n.jsx)(D.Z,{className:"frosted-glass-teal",size:r?"sm":"md",onClick:()=>{m.Z.setState({isRoutedByCreateOrEdit:!0}),(0,I.Eh)("/farms/edit",{queryProps:{farmInfo:s}})},children:"Edit Farm"})})]})}function eU(){let e=(0,j.Z)(e=>e.connected),t=(0,j.Z)(e=>e.balances),s=(0,j.Z)(e=>e.tokenAccounts),l=(0,v.Z)(e=>e.currentDialogInfo),a=(0,v.Z)(e=>e.isStakeDialogOpen),r=(0,v.Z)(e=>e.stakeDialogMode),[c,d]=(0,i.useState)(),m=(0,o.ZP)(e=>e.isApprovePanelShown),u=(0,i.useMemo)(()=>!!(null==l?void 0:l.lpMint)&&s.some(e=>{let{mint:t}=e;return String(t)===String(null==l?void 0:l.lpMint)}),[s,l]),f=(0,i.useMemo)(()=>"deposit"===r?(null==l?void 0:l.lpMint)&&t[String(l.lpMint)]:null==l?void 0:l.userStakedLpAmount,[l,t,r]),h=(0,i.useMemo)(()=>{if((null==l?void 0:l.lp)&&c)return(0,ex.n)(l.lp,c,{alreadyDecimaled:!0})},[l,c]),p=(0,i.useRef)(),g=(0,i.useRef)();return(0,n.jsx)(et.Z,{open:a,onClose:()=>{d(void 0),v.Z.setState({isStakeDialogOpen:!1,currentDialogInfo:void 0})},placement:"from-bottom",children:t=>{let{close:s}=t;return(0,n.jsxs)(q.Z,{className:"backdrop-filter backdrop-blur-xl p-8 w-[min(468px,100vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:[(0,n.jsxs)(es.Z,{className:"justify-between items-center mb-6",children:[(0,n.jsx)("div",{className:"text-xl font-semibold text-white",children:"withdraw"===r?"Unstake LP":"Stake LP"}),(0,n.jsx)(K.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:s})]}),(0,n.jsx)(B.Z,{className:"mb-6",componentRef:p,topLeftLabel:"Farm",token:null==l?void 0:l.lp,onUserInput:d,onEnter:e=>{var t,s;e&&(null===(t=g.current)||void 0===t||null===(s=t.click)||void 0===s||s.call(t))},maxValue:"withdraw"===r?null==l?void 0:l.userStakedLpAmount:void 0,topRightLabel:"withdraw"===r?(null==l?void 0:l.userStakedLpAmount)?"Deposited: ".concat((0,eZ.B)(null==l?void 0:l.userStakedLpAmount)):"(no deposited)":void 0}),(0,n.jsxs)(es.Z,{className:"flex-col gap-1",children:[(0,n.jsx)(D.Z,{className:"frosted-glass-teal",componentRef:g,isLoading:m,validators:[{should:e},{should:null==l?void 0:l.lp},{should:c},{should:(0,eg.gt)(h,0)},{should:(0,eg.eg)(f,h),fallbackProps:{children:"Insufficient Lp Balance"}},{should:"withdraw"==r||u,fallbackProps:{children:"No Stakable LP"}}],onClick:()=>{if(!(null==l?void 0:l.lp)||!c)return;let e=(0,ex.n)(l.lp,c,{alreadyDecimaled:!0});("withdraw"===r?(0,w.Z)(l,{isStaking:!1,amount:e}):(0,x.Z)(l,{isStaking:!1,amount:e})).then(()=>{s()})},children:"withdraw"===r?"Unstake LP":"Stake LP"}),(0,n.jsx)(D.Z,{type:"text",disabled:m,className:"text-sm backdrop-filter-none",onClick:s,children:"Cancel"})]})]})}})}function eH(e){let{info:t,className:s}=e,i=(0,o.ZP)(e=>e.isMobile),a=(0,A.ZP)(e=>e.getLpToken),c=(0,A.ZP)(e=>e.getToken),d=!(0,u.aE)(t)&&t.isStablePool,m=(0,v.Z)(e=>e.currentTab),x=(0,r.ZP)(e=>e.programIds),f=(0,C.Z)(e=>e.jsonInfos),h=f.find(e=>e.lpMint===t.lpMint);if((0,u.aE)(t))return a(t.lpMint),(0,n.jsxs)(M.Z,{is:i?"Col":"Row",className:(0,l.m)("flex-wrap items-center mobile:items-start",s),children:[(0,n.jsx)(O.Z,{className:"justify-self-center mr-2",size:i?"sm":"md",token1:c(t.baseMint),token2:c(t.quoteMint)}),(0,n.jsx)("div",{children:c(t.baseMint)&&(0,n.jsxs)(es.Z,{className:"mobile:text-xs font-medium mobile:mt-px mr-1.5",children:[(0,n.jsx)(eW,{mint:t.baseMint})," - ",(0,n.jsx)(eW,{mint:t.quoteMint})]})})]});let{base:p,quote:g,symbol:b}=t;return(0,n.jsxs)(M.Z,{is:i?"Col":"Row",className:(0,l.m)("flex-wrap items-center mobile:items-start gap-x-2 gap-y-1",s),children:[(0,n.jsx)(O.Z,{className:"justify-self-center mr-2",size:i?"sm":"md",token1:p,token2:g}),(0,n.jsxs)(es.Z,{className:"mobile:text-xs font-medium items-center mobile:mt-px mr-1.5",children:[(0,n.jsx)(eW,{mint:t.baseMint}),"-",(0,n.jsx)(eW,{mint:t.quoteMint}),"Ecosystem"===m&&(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,n.jsx)(ea.Z.Panel,{children:(0,n.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:[null==t?void 0:t.baseMint,null==t?void 0:t.quoteMint].map((e,t)=>e?(0,n.jsxs)(es.Z,{className:"gap-2",children:[c(e)&&(0,n.jsx)(z.Z,{size:"xs",token:c(e)}),(0,n.jsx)(L.U,{className:"grow",showDigitCount:5,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs text-[#abc4ff] justify-start ",iconClassName:"text-[#abc4ff]",children:e})]},t):null)})})]})]}),t.isClosedPool&&(0,n.jsx)(R.C,{cssColor:"#DA2EEF",children:"Inactive"}),d&&(0,n.jsx)(R.C,{children:"Stable"}),t.isDualFusionPool&&6!==t.version&&(0,n.jsx)(R.C,{cssColor:"#DA2EEF",children:"Dual Yield"}),t.isNewPool&&(0,n.jsx)(R.C,{cssColor:"#00d1ff",children:"New"}),t.isUpcomingPool&&(0,n.jsx)(R.C,{cssColor:"#5dadee",children:"Upcoming"}),h&&(0,ep.$F)(h.marketProgramId,x.OPENBOOK_MARKET)&&(0,n.jsx)(Y.$,{})]})}function eW(e){var t,s;let{mint:i}=e,l=(0,A.ZP)(e=>e.getToken),a=(0,A.ZP)(e=>e.tokenListSettings),r=a["UnNamed Token List"].mints,o=l(i);return(null==r?void 0:r.has((0,Z.ZP)(i)))?(0,n.jsxs)(es.Z,{className:"items-center",children:[(0,n.jsx)("div",{children:null!==(t=null==o?void 0:o.symbol)&&void 0!==t?t:"UNKNOWN"}),(0,n.jsx)("div",{children:(0,n.jsxs)(ea.Z,{children:[(0,n.jsx)(K.Z,{className:"cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsx)(ea.Z.Panel,{children:(0,n.jsxs)("div",{className:"max-w-[220px]",children:[(0,n.jsx)("div",{children:"This token does not currently have a ticker symbol. Check to ensure it is the token you want to interact with."}),(0,n.jsx)(es.Z,{className:"gap-2 mt-4 w-fit mx-auto",children:(0,n.jsx)(L.U,{className:"grow",showDigitCount:8,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs text-[#abc4ff]",iconClassName:"text-[#abc4ff]",children:null==o?void 0:o.mintString})})]})})]})})]}):(0,n.jsx)(n.Fragment,{children:null!==(s=null==o?void 0:o.symbol)&&void 0!==s?s:"UNKNOWN"})}function eK(e){let{name:t,value:s,subValue:i,className:l,loading:a="--"===s||"--"===i}=e,r=(0,o.ZP)(e=>e.isMobile);return(0,n.jsxs)(V.Z,{className:l,children:[r&&(0,n.jsx)("div",{className:" mb-1 text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:t}),(0,n.jsx)(V.Z,{className:"flex-grow justify-center",children:a?(0,n.jsx)(Q.Z,{className:"w-4 h-4"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-base mobile:text-xs",children:s||"--"}),i&&(0,n.jsx)("div",{className:"text-sm mobile:text-2xs text-[rgba(171,196,255,0.5)]",children:i})]})})]})}}},function(e){e.O(0,[7239,5830,2820,7664,4109,3809,2314,9774,2888,179],function(){return e(e.s=49895)}),_N_E=e.O()}]);