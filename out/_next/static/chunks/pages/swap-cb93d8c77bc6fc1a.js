(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8503],{98229:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return n(7733)}])},475:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var i=n(62512),l=n(91371),o=n(42186),r=n(17097);async function a(){let e=l.ZP.getState().transactionPriority;if((0,r.hj)(e))return{units:6e5,microLamports:Math.ceil(e*10**o.kE.decimals*1e6/6e5)};{var t;let e=await (0,i.Z)("https://solanacompass.com/api/fees",{cacheFreshTime:3e5}),{avg:n}=null!==(t=null==e?void 0:e[15])&&void 0!==t?t:{};if(!n)return;return{units:6e5,microLamports:Math.min(Math.ceil(1e6*n/6e5),25e3)}}}},6547:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var i=n(85893),l=n(27993),o=n(96398),r=n(67294);function a(e){var t,n;let[a,s]=(0,r.useState)(null!==(n=e.forceDebugStatus)&&void 0!==n?n:"pending"),[c,u]=(0,r.useState)(null);return(0,o.L)(()=>{let t=Promise.resolve(e.promise);t.then(t=>{var n;return e.forceDebugStatus||s("fullfilled"),null===(n=e.onFullfilled)||void 0===n||n.call(e,t),t},t=>{var n;return e.forceDebugStatus||s("rejected"),null===(n=e.onReject)||void 0===n||n.call(e),Promise.reject(t)}).then(e=>{u(e)})},[e.promise]),(0,i.jsx)(i.Fragment,{children:"pending"!==a&&c?null===(t=e.children)||void 0===t?void 0:t.call(e,c):(0,l.u)(e.fallback,[a])})}},88132:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(85893),l=n(91371),o=n(67294),r=n(66180),a=n(6994);function s(e){var t;let{haveMinHeight:n,wrapperClassName:s,children:c,domRef:u,size:d="lg",cssGradientRotate:m,...f}=e,p=(0,l.ZP)(e=>e.isMobile),h=(0,o.useMemo)(()=>{var e,t,n;return(null===(e=f.style)||void 0===e?void 0:e.borderRadius)?"calc(".concat(f.style.borderRadius," + ").concat(1.2,"px)"):(null===(t=f.className)||void 0===t?void 0:t.match(/mobile:rounded-2xl/g))&&p||(null===(n=f.className)||void 0===n?void 0:n.match(/(^|\s)rounded-2xl($|\s)/))?17.2:"md"===d?7.2:21.2},[f.className,d,null===(t=f.style)||void 0===t?void 0:t.borderRadius,p]);return(0,i.jsx)("div",{ref:u,className:s,style:{"--gradient-rotate":null!=m?"".concat(m,"deg"):void 0,minHeight:n?"300px":void 0,borderRadius:h,padding:1.2,backgroundImage:"linear-gradient(var(--gradient-rotate, 246deg), #da2eef 7.97%, #2b6aff 49.17%, #39d0d8 92.1%)"},children:(0,i.jsx)(a.Z,{...f,size:d,className:(0,r.m)("bg-cyberpunk-card-bg overflow-hidden",f.className),style:{height:"100%",width:"100%"},children:c})})}},99645:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(85893);function l(e){let{className:t}=e;return(0,i.jsxs)("div",{className:"lds-roller ".concat(null!=t?t:""," mobile:scale-75"),children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]})}},33674:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(85893),l=n(67294),o=n(66180),r=n(91371),a=n(14431),s=n(85503);function c(){let{run:e=!0,initPercent:t=0,componentRef:n,className:r,duration:c=6e4,strokeWidth:u=3,updateDelay:d=1e3,svgWidth:m=36,loop:f=!0,onEnd:p,onClick:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=.5*m/2,v=2*x*Math.PI,g=(0,l.useRef)(!1),{documentVisible:b}=(0,s.x)(),[y,j]=(0,l.useState)(t),Z=(0,l.useRef)(),S=(0,l.useRef)(null);(0,a.e)(S,{onClick:h,disable:!h}),(0,l.useEffect)(()=>{if(e&&b){let t=globalThis.setInterval(()=>{e&&b&&j(e=>e+1/c*d)},d);return Z.current=t,()=>globalThis.clearInterval(t)}globalThis.clearInterval(Z.current)},[c,d,e&&b]);let k=(0,l.useRef)();return(0,l.useEffect)(()=>{if(b&&k.current){let e=Date.now()-k.current;j(t=>t+1/c*e)}b||(k.current=Date.now())},[b]),(0,l.useEffect)(()=>{if(0==Math.floor(y))return;let e=setTimeout(()=>{g.current||(g.current=!0,null==p||p(),setTimeout(()=>{g.current=!1},0))},0);return()=>clearTimeout(e)},[Math.floor(y)]),(0,l.useImperativeHandle)(n,()=>({currentProgressPercent:y%1,restart(){j(0)}})),(0,i.jsx)("div",{className:(0,o.m)("w-full h-full rounded",r),children:(0,i.jsxs)("svg",{ref:S,width:m,height:m,viewBox:"0 0 ".concat(m," ").concat(m),children:[(0,i.jsx)("circle",{r:x,cx:"50%",cy:"50%",fill:"transparent",style:{strokeWidth:u,stroke:"#ffffff2e"}}),(0,i.jsx)("circle",{id:"bar",r:x,cx:"50%",cy:"50%",fill:"transparent",strokeDasharray:v,strokeDashoffset:v-(f?y%1:Math.min(y,1))*v,style:{strokeWidth:u,stroke:"#92e1ffd9",transform:"rotate(-90deg)",transformOrigin:"center",strokeLinecap:"round",transition:"200ms"}})]})})}var u=n(92618),d=n(12839),m=n(43066),f=n(96398),p=n(62361);function h(e){var t,n,a,h;let{run:x=!0,refreshKey:v,popPlacement:g,forceOpen:b,freshFunction:y,freshEach:j=1e3,totalDuration:Z=6e4,className:S,circleBodyClassName:k,disabled:C=!1}=e,w=(0,l.useRef)(),[N,T]=(0,l.useState)(!1);(0,m.N)({loop:j,disable:!N});let{documentVisible:P,documentVisibleRef:R}=(0,s.x)(),[E,A,F]=(0,p.$)(!1),I=()=>A(!0),D=()=>A(!1),B=(0,r.ZP)(e=>e.isMobile),L=null===(t=r.ZP.getState().refreshCircleLastTimestamp[v])||void 0===t?void 0:t.endTimestamp,M=null===(n=r.ZP.getState().refreshCircleLastTimestamp[v])||void 0===n?void 0:n.endProcessPercent,O=L&&M&&(Date.now()-L)/Z+M;return(0,f.L)(()=>{if(!d.N9)return O&&O>1&&(null==y||y()),()=>{var e;r.ZP.setState(t=>{var n;return{refreshCircleLastTimestamp:{...t.refreshCircleLastTimestamp,[v]:{endTimestamp:Date.now(),endProcessPercent:null!==(e=null===(n=w.current)||void 0===n?void 0:n.currentProgressPercent)&&void 0!==e?e:0}}}})}},[]),(0,l.useEffect)(()=>{if(C||!F()||!R.current)return;let e=setTimeout(()=>{!C&&F()&&R.current&&(null==y||y(),D())},0);return()=>clearTimeout(e)},[E,P,C]),(0,i.jsxs)(u.Z,{className:(0,o.m)("select-none",S),placement:g,forceOpen:b,triggerBy:B?"press":void 0,autoClose:!0,onOpen:()=>T(!0),onClose:()=>T(!1),children:[(0,i.jsx)(c,{run:x&&!C,initPercent:O&&O%1,duration:Z,componentRef:w,className:(0,o.m)("clickable clickable-filter-effect",k),onClick:()=>{var e;I(),null===(e=w.current)||void 0===e||e.restart()},onEnd:()=>{var e;I(),null===(e=w.current)||void 0===e||e.restart()}}),(0,i.jsx)(u.Z.Panel,{children:(0,i.jsxs)("div",{className:"w-60",children:["Displayed data will auto-refresh after"," ",Math.round(Z/1e3*(1-(null!==(h=null===(a=w.current)||void 0===a?void 0:a.currentProgressPercent)&&void 0!==h?h:0)))," seconds. Click this circle to update manually."]})})]})}},29197:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(85893),l=n(18074),o=n(27993),r=n(66180),a=n(45826),s=n(91107);function c(e){let{className:t,style:n,vertical:l,itemClassName:a,itemStyle:c,values:u,currentValue:d=u[0],labels:m=u,onChange:f}=e;return u.filter(Boolean).length?(0,i.jsx)(s.E,{value:d,onChange:null!=f?f:()=>{},className:(0,r.m)("".concat(l?"flex-col":"flex"," ").concat(null!=t?t:"")),style:n,children:u.map((e,t,n)=>(0,i.jsx)(s.E.Option,{value:e,className:"cursor-pointer flex grow",children:r=>{let{checked:s}=r;return e&&(0,i.jsx)("div",{className:"grid grow ".concat(l?"":"place-items-center"," ").concat((0,o.u)(a,[s])),style:(0,o.u)(c,[s,t,n]),children:(0,o.u)(m[t],[s,t,n])})}},t))}):(0,i.jsx)(i.Fragment,{})}function u(e){let{size:t,$valuesLength:n,$transparentBg:s,urlSearchQueryKey:u,className:d,...m}=e;(0,a.i)({currentValue:m.currentValue,values:m.values,onChange:m.onChange,queryKey:u});let f=m.currentValue&&m.values.includes(m.currentValue),p=null!=n?n:m.values.length,h=(f?m.values.findIndex(e=>e===m.currentValue):0)+0;return(0,i.jsx)(c,{...m,currentValue:m.currentValue,className:(0,r.m)("rounded-full p-1",s?"bg-transparent":"bg-cyberpunk-card-bg",d),itemClassName:e=>(0,r.m)("sm"===t?"min-w-[82px] mobile:min-w-[64px] px-2 mobile:px-1.5 h-7 mobile:h-5 text-sm mobile:text-xs":"min-w-[96px] mobile:min-w-[76px] px-3 mobile:px-2 h-9 mobile:h-7 text-sm mobile:text-xs ","grid rounded-full place-items-center font-medium whitespace-nowrap ".concat(e?"text-white":"text-[#ABC4FF]"),(0,o.u)(m.itemClassName,[e])),itemStyle:e=>e?{background:"linear-gradient(245.22deg, rgb(218, 46, 239), rgb(43, 106, 255), rgb(57, 208, 216))",backgroundSize:"".concat(p,"00% 100%"),backgroundPosition:(0,l.Z)(1/(p-1)*h)}:{}})}},18074:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(81451),l=n(51523),o=n(84207),r=n(72573),a=n(99881);function s(e,t){try{var n,s;let c=(0,o.Z)(null!=e?e:0),u=c.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(n=null==t?void 0:t.fixed)&&void 0!==n?n:2);if((0,i.eq)(c,0))return"0%";if(!(null==t?void 0:t.exact)&&u===0..toFixed(null!==(s=null==t?void 0:t.fixed)&&void 0!==s?s:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,i.gt)(u,0)?"+":"-").concat((0,a.Z)((0,i.gt)(u,0)?(0,r.B)(u):(0,r.B)((0,l.dC)(u,-1))),"%"):"".concat((0,a.Z)(u,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},7931:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var i=n(67294),l=n(12839);function o(e,t,n){var o;let r="all .4s cubic-bezier(0.4, 0, 0.2, 1)",[a,s]=(0,i.useState)(null!==(o=null==n?void 0:n.defaultHasWrapped)&&void 0!==o&&o);(0,i.useEffect)(function(){if(l.N9||!(null==n?void 0:n.defaultHasWrapped))return;let i=e.current,o=t.current;if(!i||!o)return;let r=i.getBoundingClientRect(),a=o.getBoundingClientRect(),s=a.top-r.top,c=r.top<a.top?1:-1;i.style.setProperty("transition",""),o.style.setProperty("transition",""),i.style.setProperty("transform","translateY(".concat(s*c,"px)")),o.style.setProperty("transform","translateY(".concat(-s*c,"px)"))},[]);let c=(0,i.useCallback)(()=>{let n=e.current,i=t.current;if(!n||!i)return;let l=n.getBoundingClientRect(),o=i.getBoundingClientRect(),c=o.top-l.top,u=l.top<o.top?1:-1;n.style.setProperty("transition",r),i.style.setProperty("transition",r),a?(n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"),s(!1)):(n.style.setProperty("transform","translateY(".concat(c*u,"px)")),i.style.setProperty("transform","translateY(".concat(-c*u,"px)")),s(!0))},[a,e,t]),u=(0,i.useCallback)(()=>{let n=e.current,i=t.current;n&&i&&(n.style.setProperty("transition",r),i.style.setProperty("transition",r),n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"))},[a,e,t]);return(0,i.useEffect)(()=>{let n=e.current,i=t.current,l=()=>{null==n||n.style.setProperty("pointerEvents","none")},o=()=>{null==n||n.style.setProperty("pointerEvents","")};return null==n||n.addEventListener("transitionstart",l),null==n||n.addEventListener("transitionend",o),null==i||i.addEventListener("transitionstart",l),null==i||i.addEventListener("transitionend",o),()=>{null==n||n.removeEventListener("transitionstart",l),null==n||n.removeEventListener("transitionend",o),null==i||i.removeEventListener("transitionstart",l),null==i||i.removeEventListener("transitionend",o)}},[e,t]),[a,{toggleSwap:c,resetSwapPosition:u}]}},51488:function(e,t,n){"use strict";n.d(t,{I:function(){return x}});var i=n(85893),l=n(18559),o=n(81451),r=n(3363),a=n(14200),s=n(51523);async function c(e,t){let n=(0,r.ZP)(e);if(!(0,a.W)(n))return!0;let i=(0,l.U7)(n),c=i.then(e=>!!e&&({isTransferable:!((0,o.$u)(t)&&(0,o.eg)(e.transferFeePercent,1)&&(0,o.lt)(t,(0,s.hi)(e.maximumFee,1)))}).isTransferable);return c}var u=n(28948),d=n(48162),m=n(51800),f=n(72573),p=n(99111),h=n(67294);function x(e){let t=(0,h.useMemo)(()=>e.map(e=>{var t;return(0,r.ZP)(null===(t=e.token)||void 0===t?void 0:t.mint)}),[e]),n=(0,h.useMemo)(()=>e.map(e=>(0,f.B)(e.amount)),[e]),l=(0,p.Z)(async()=>{for(let{token:t,amount:n}of e)if(t){let e=await c(t.mint,n);if(!e)return t}},t.concat(n),void 0),o=!!l,a=e=>{let{className:t}=e;return(0,i.jsx)(v,{className:t,needOpen:o,badToken:l})};return{isWarningChipOpen:o,badToken:l,Token2022FeeTooHighWarningChip:a}}function v(e){let{className:t,needOpen:n,badToken:l}=e;return(0,i.jsx)(u.Z,{show:n,children:(0,i.jsx)("div",{className:t,children:(0,i.jsxs)(m.Z,{className:"bg-[#da2eef1a] text-[#da2eef] rounded-xl py-3 px-3 mobile:px-2 items-center",children:[(0,i.jsx)(d.Z,{className:"mr-1",heroIconName:"exclamation-circle",size:"smi"}),(0,i.jsx)("div",{className:"text-xs mobile:text-2xs",children:"Transfer fee at 100%, transaction will fail."})]})})})}},7733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eO}});var i=n(85893),l=n(67294),o=n(66180),r=n(91371),a=n(96662),s=n(57435),c=n(94355),u=n(31555),d=n(62512);async function m(e){if(!e)return[];let t=await (0,d.Z)("https://api.coingecko.com/api/v3/coins/".concat(e,"/market_chart?vs_currency=usd&days=1"),{cacheFreshTime:6e4});return t?t.prices.map(e=>{let[,t]=e;return t}):[]}var f=n(72305),p=n(73944),h=n(34003),x=n(62952),v=n(4465),g=n(81451),b=n(72573),y=n(59277),j=n(475),Z=n(79938),S=n(53002),k=n(23685);async function C(){let{programIds:e}=y.ZP.getState(),{checkWalletHasEnoughBalance:t,tokenAccountRawInfos:n,txVersion:i}=S.Z.getState(),{coin1:l,coin2:o,coin1Amount:r,coin2Amount:a,selectedCalcResult:s,focusSide:c,routeType:u,directionReversed:d,minReceived:m,maxSpent:C}=k.Z.getState(),N=d?o:l,T=(d?a:r)||"0",P=d?l:o,R=(d?r:a)||"0";(0,h.Z)(T&&(0,g.gt)(T,0),"should input upCoin amount larger than 0"),(0,h.Z)(R&&(0,g.gt)(R,0),"should input downCoin amount larger than 0"),(0,h.Z)(N,"select a coin in upper box"),(0,h.Z)(P,"select a coin in lower box"),(0,h.Z)(!(0,v.aT)(N.mint,P.mint),"should not select same mint "),(0,h.Z)(s,"can't find correct route");let E=(0,x.n)(N,T,{alreadyDecimaled:!0});return(0,x.n)(P,R,{alreadyDecimaled:!0}),(0,h.Z)(t(E),"not enough ".concat(N.symbol)),(0,h.Z)(u,"accidently routeType is undefined"),(0,Z.ZP)(async t=>{let{transactionCollector:l,baseUtils:{connection:o,owner:r}}=t,a=p.Lb.setComputeUnitLimit({units:400001}),{innerTransactions:c}=await f.nz3.makeSwapInstructionSimple({connection:o,swapInfo:s,ownerInfo:{wallet:r,tokenAccounts:n,associatedOnly:!0,checkCreateATAOwner:!0},routeProgram:e.Router,lookupTableCache:Z.eq,makeTxVersion:i,computeBudgetConfig:await (0,j.u)()});for(let e=0;e<c.length;e++)c[e].instructions[0].programId.toString()!==a.programId.toString()&&(0,f.UeT)([a,...c[e].instructions],[r])&&(c[e].instructions=[a,...c[e].instructions].map(e=>new p.Sl({programId:e.programId,data:e.data,keys:e.keys.map(e=>"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"===e.pubkey.toString()?{...e,pubkey:r}:e)})));let u=c.map((e,t,n)=>[e,{onTxError(e){let{signatureResult:t,changeHistoryInfo:n}=e;(function(e){try{var t;let n=null===(t=e.err)||void 0===t?void 0:t.InstructionError[1].Custom;if([38,6022].includes(n))return!0;return!1}catch(e){return!1}})(t)&&(null==n||n({forceErrorTitle:"Swap failed due to slippage error!",description:"Slippage has exceeded user settings.\nTry again or adjust your slippage tolerance."}))},txHistoryInfo:{title:"Swap",description:"Swap ".concat((0,b.B)(T)," ").concat(N.symbol," to ").concat((0,b.B)(m||C)," ").concat(P.symbol),subtransactionDescription:function(e,t,n){let i=n.findIndex(e=>w(e)),l=n.length-1-[...n].reverse().findIndex(e=>w(e));return t<i?"Setup":t>l?"Cleanup":"Swap"}(0,t,n)}}]);l.add(u,{sendMode:"queue(all-settle)"})})}function w(e){return e.instructionTypes.includes(f.p01.clmmSwapBaseIn)||e.instructionTypes.includes(f.p01.clmmSwapBaseOut)||e.instructionTypes.includes(f.p01.ammV4Swap)||e.instructionTypes.includes(f.p01.ammV4SwapBaseIn)||e.instructionTypes.includes(f.p01.ammV4SwapBaseOut)||e.instructionTypes.includes(f.p01.ammV5SwapBaseIn)||e.instructionTypes.includes(f.p01.ammV5SwapBaseOut)||e.instructionTypes.includes(f.p01.routeSwap1)||e.instructionTypes.includes(f.p01.routeSwap2)||e.instructionTypes.includes(f.p01.routeSwap)}var N=n(3363),T=n(42186),P=n(11163),R=n(59995),E=n(78083),A=n(51523),F=n(24608),I=n(12839),D=n(79527);function B(e,t){let n=(0,l.useRef)();(0,l.useEffect)(()=>{I.kW&&(0,D.Kk)(()=>{"function"==typeof n.current&&n.current();let t=e();n.current=t})},t)}var L=n(31166),M=n(80582),O=n(47675);function z(e){return e?e.mintString+e.decimals+e.symbol+e.icon:""}var W=n(91148),V=n(16938),q=n(26842),U=n(60279),H=n(56603);function _(e){var t,n,i,l,o,r,a,s,c;let u=["ray","sol"],d={ammId:String(null!==(n=null!==(t=e.ammId)&&void 0!==t?t:e.ammid)&&void 0!==n?n:""),inputCurrency:String(null!==(i=e.inputCurrency)&&void 0!==i?i:""),inputSymbol:String(null!==(l=e.inputSymbol)&&void 0!==l?l:""),outputCurrency:String(null!==(o=e.outputCurrency)&&void 0!==o?o:""),outputSymbol:String(null!==(r=e.outputSymbol)&&void 0!==r?r:""),inputAmount:String(null!==(a=e.inputAmount)&&void 0!==a?a:""),outputAmount:String(null!==(s=e.outputAmount)&&void 0!==s?s:""),fixed:String(null!==(c=e.fixed)&&void 0!==c?c:"")};return u.some(e=>(0,v.X0)(e,d.inputSymbol))&&(d.inputCurrency="",d.inputAmount="",d.inputSymbol=""),u.some(e=>(0,v.X0)(e,d.outputSymbol))&&(d.outputCurrency="",d.outputAmount="",d.outputSymbol=""),(0,V.dI)(d)}var $=n(18559),G=n(99522),Y=n(11601),K=n(43067),X=n(6994),J=n(70745),Q=n(97664),ee=n(54592),et=n(23484),en=n(88132),ei=n(28948),el=n(48162),eo=n(82727),er=n(11583),ea=n(85830),es=n(33674),ec=n(51800),eu=n(29197),ed=n(92618),em=n(56419),ef=n(90547),ep=n(99881),eh=n(18074),ex=n(32825),ev=n(99111),eg=n(43066),eb=n(96398),ey=n(85356),ej=n(99779),eZ=n(92224),eS=n(87980),ek=n(14200),eC=n(76104),ew=n(99645),eN=n(6325),eT=n(65408),eP=n(6547);function eR(e){let{debugLable:t,token:n,onCancel:o,onConfirm:r}=e,a=null==n?void 0:n.mintString,s=n&&(0,ek.W)(n),[c,u]=(0,ey.Z)("USER_CONFIRMED_TOKEN_2022"),d=a&&(null==c?void 0:c.includes(a)),[m,f]=(0,l.useState)(()=>!!(n&&d)),[p,h]=(0,l.useState)(!1),[x,v]=(0,l.useState)(!1);(0,l.useEffect)(()=>{h(!1),f(!1),v(!1)},[a]);let g=(0,i.jsx)(eE,{onConfirm:()=>{null==r||r(),m&&a&&u(e=>(0,W.A5)([...null!=e?e:[],a])),v(!0)},onCancel:()=>{null==o||o(),v(!0)},onPermanentlyConfirm:f,onTemporarilyConfirm:h,open:s&&!d&&!x,token:n,temporarilyConfirm:p,permanentlyConfirm:m});return{ConfirmDialog:g}}function eE(e){let{open:t,token:n,className:r,temporarilyConfirm:a,permanentlyConfirm:s,onTemporarilyConfirm:c,onPermanentlyConfirm:u,onCancel:d,onConfirm:m}=e;if(!n)return null;let f=(0,l.useRef)(!1);(0,l.useEffect)(()=>{f.current=!1},[(0,N.ZP)(n.mint)]);let[p,h]=(0,l.useState)(!1);if(!t)return null;let x=(0,ek.W)(n)?(0,$.U7)(n.mint).catch(()=>{}):void 0;return x?(0,i.jsx)(eN.Z,{placement:"from-bottom",open:!!t,canClosedByMask:!0,onCloseImmediately:()=>{f.current||null==d||d()},children:(0,i.jsx)(X.Z,{className:(0,o.m)("flex flex-col p-8 mobile:p-5 rounded-3xl mobile:rounded-b-none mobile:h-[80vh] w-[min(552px,100vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)]",r),size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)",boxShadow:"0px 8px 48px rgba(171, 196, 255, 0.12)"},children:(0,i.jsxs)(ee.Z,{className:"items-center",children:[(0,i.jsx)(el.Z,{size:"lg",heroIconName:"exclamation",className:"text-[#D8CB39] mb-3"}),(0,i.jsxs)("div",{className:"mb-6 text-center",children:[(0,i.jsx)("div",{className:"font-semibold text-xl text-white mb-3",children:"Confirm Token2022"}),(0,i.jsx)("div",{className:"font-normal text-base text-[#ABC4FF]",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"mb-2 text-center",children:"This token uses the Token2022 program that is unaudited and still in beta. This is an advanced feature, trade with caution."}),(0,i.jsx)("p",{className:"text-center",children:"The Token2022 program includes Extensions, like Transfer Fees and other transfer restrictions, which can be changed. You will need a wallet that supports Token2022, like Backpack."})]})})]}),(0,i.jsxs)("div",{className:"self-stretch",children:[(0,i.jsx)("div",{className:"pb-4",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)(ee.Z,{className:"bg-[#abc4ff1a] rounded-xl w-full",children:[(0,i.jsxs)(ec.Z,{className:"justify-center items-center gap-2 p-4 rounded-xl bg-[#141041]",children:[(0,i.jsx)(J.Z,{token:n}),(0,i.jsx)("div",{className:"font-semibold",children:null==n?void 0:n.symbol}),(0,i.jsx)(G.U,{textClassName:"text-[#abc4ff80]",showDigitCount:8,canExternalLink:!0,children:null==n?void 0:n.mint})]}),(0,i.jsx)("div",{className:"self-center py-3",children:(0,i.jsx)(eP.j,{promise:x,onFullfilled:e=>{e&&h(!0)},fallback:(0,i.jsx)(ew.Z,{className:"mx-auto"}),children:e=>{if(!e)return;let t=!!e.freezeAuthority;return(0,i.jsx)("div",{children:(0,i.jsxs)(ee.Z,{className:"table text-sm",children:[(0,i.jsx)(eA,{hidden:!t,name:"Freeze Authority",value:(0,eT.kC)(String(t)),nameTooltip:"The creator of this token has freeze authority and can freeze transfers or token interactions from your account at any time. Trade with caution"}),(0,i.jsx)(eA,{name:"Transfer Fee",value:(0,eh.Z)(e.transferFeePercent),nameTooltip:"This token uses the Token-2022 program. The token creator has programmed a Transfer Fee that will be subtracted from all token interactions, including swaps or adding/removing liquidity."}),(0,i.jsx)(eA,{name:"Max Transfer Fee",value:"".concat((0,b.B)(e.maximumFee,{decimalLength:"auto ".concat(e.decimals)})," ").concat(n.symbol),nameTooltip:"The maximum transfer fee collected regardless of the amount of tokens transferred"}),(0,i.jsx)(eA,{hidden:(0,g.Jr)(e.nextTransferFeePercent)&&(0,g.Jr)(e.nextMaximumFee),name:"Pending Fee Change",value:"Yes",valueTooltip:"This token uses the Token-2022 program. The token creator has programmed an updated Transfer Fee that will be live in the near future. The fee will be subtracted from all future token interactions and may be higher than the current fee."}),(0,i.jsx)(eA,{hidden:(0,g.Jr)(e.nextTransferFeePercent),name:"Pending Fee Change",value:(0,i.jsxs)(i.Fragment,{children:[(0,eh.Z)(e.nextTransferFeePercent),null!=e.expirationTimeOffset&&(0,i.jsxs)("span",{children:[" ","in ",(0,i.jsx)(eF,{remainSeconds:e.expirationTimeOffset})]})]})}),(0,i.jsx)(eA,{hidden:(0,g.Jr)(e.nextMaximumFee),name:"Pending Max Fee Change",value:(0,i.jsxs)(i.Fragment,{children:[(0,b.B)(e.nextMaximumFee,{decimalLength:"auto ".concat(e.decimals)})," ",n.symbol,null!=e.expirationTimeOffset&&(0,i.jsxs)("span",{children:[" ","in ",(0,i.jsx)(eF,{remainSeconds:e.expirationTimeOffset})]})]})})]})})}})})]}),(0,i.jsx)(eC.X,{checkBoxSize:"sm",disabled:!p,className:"my-2 w-max",checked:a,onChange:c,label:(0,i.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"I understand the program is unaudited and accept the risks."})}),(0,i.jsx)(eC.X,{checkBoxSize:"sm",disabled:!p,className:"my-2 w-max",checked:s,onChange:u,label:(0,i.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"Do not warn again for this token."})})]})}),(0,i.jsxs)(ee.Z,{className:"w-full",children:[(0,i.jsx)(K.Z,{disabled:!a,className:"text-[#ABC4FF] frosted-glass-skygray",onClick:()=>{f.current=!0,null==m||m()},children:"Confirm"}),(0,i.jsx)(K.Z,{className:"text-[#ABC4FF] text-sm -mb-4",type:"text",onClick:d,children:"Cancel"})]})]})]})})}):null}function eA(e){let{hidden:t,name:n,value:l,nameTooltip:o,valueTooltip:r}=e;return t?null:(0,i.jsxs)(ec.Z,{className:"table-row",children:[(0,i.jsx)("div",{className:"table-cell",children:(0,i.jsxs)(ec.Z,{className:"items-center px-2 font-medium",children:[(0,i.jsx)("div",{children:n}),o&&(0,i.jsxs)(ed.Z,{children:[(0,i.jsx)(el.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,i.jsx)(ed.Z.Panel,{children:(0,i.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:o})})]}),(0,i.jsx)("div",{className:"ml-1",children:":"})]})}),(0,i.jsx)("div",{className:"table-cell",children:(0,i.jsxs)(ec.Z,{className:"items-center",children:[l,r&&(0,i.jsxs)(ed.Z,{children:[(0,i.jsx)(el.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,i.jsx)(ed.Z.Panel,{children:(0,i.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:r})})]})]})})]})}function eF(e){var t;let{remainSeconds:n,onReachZeroSeconds:o}=e,r=null!==(t=(0,a.ZP)(e=>e.chainTimeOffset))&&void 0!==t?t:0,[s,c]=(0,l.useState)(Math.max((null!=n?n:0)-r/1e3,0));(0,eb.L)(()=>{c(Math.max((null!=n?n:0)-r/1e3,0))},[r,n]),(0,eb.L)(()=>{s<=0&&(null==o||o())},[s<=0]);let{days:u,hours:d,minutes:m,seconds:f}=(0,ef.ZP)(1e3*s);return(0,eg.N)({loop:u>0?36e5:m?6e4:1e3,disable:!n,disableWhenDocumentInvisiable:!1,onLoop:()=>c(e=>e>0?e-1:e)}),(0,i.jsx)("div",{className:"inline-block",children:u?"".concat(u,"d ").concat(d,"h ").concat(m,"m"):d?"".concat(d,"h ").concat(m,"m"):m?"".concat(m,"m"):f?"".concat(f,"s"):"<1m"})}var eI=n(7931),eD=n(51488);function eB(){return!function(){let e=(0,L.ZP)(e=>e.tokens),t=(0,L.ZP)(e=>e.getToken),n=(0,k.Z)(e=>e.coin1),i=(0,k.Z)(e=>e.coin2);(0,l.useEffect)(()=>{let e=(0,O.mu)(),l=Object.keys(e).includes("inputCurrency"),o=Object.keys(e).includes("outputCurrency");n||(null==i?void 0:i.mintString)===T.aF.mintString||l||k.Z.setState({coin1:T.aF}),i||(null==n?void 0:n.mintString)===(0,N.ZP)(M.PD)||o||k.Z.setState({coin2:t(M.PD)})},[e,t,n,i]),(0,l.useEffect)(()=>{let e=t(null==i?void 0:i.mintString);i&&z(i)!==z(e)&&k.Z.setState({coin2:e})},[e,t])}(),!function(){let{query:e,pathname:t,replace:n}=(0,P.useRouter)(),i=function(){let{replace:e}=(0,P.useRouter)(),t=(0,l.useCallback)((0,H.P)((t,n)=>{e({pathname:t,query:n},void 0,{shallow:!0})},{delay:100}),[]);return t}(),o=(0,k.Z)(e=>e.coin1),u=(0,k.Z)(e=>e.coin2),d=(0,k.Z)(e=>e.coin1Amount),m=(0,k.Z)(e=>e.coin2Amount),f=(0,k.Z)(e=>e.focusSide),p=(0,k.Z)(e=>e.directionReversed),h=(0,s.Z)(e=>e.jsonInfos),x=(0,l.useCallback)(e=>h.find(t=>t.id===e),[h]),g=(0,L.ZP)(e=>e.tokens),y=(0,L.ZP)(e=>e.userAddedTokens),j=(0,a.ZP)(e=>e.connection),Z=(0,L.ZP)(e=>e.getToken),S=(0,L.ZP)(e=>e.toUrlMint),C=(0,r.ZP)(e=>e.inCleanUrlMode),[w,E]=(0,l.useState)(!1);(0,l.useEffect)(()=>{t.includes("/swap")||E(!1)},[t]),(0,l.useEffect)(()=>{let e=()=>E(!1);return null==globalThis||globalThis.addEventListener("beforeunload",e),()=>null==globalThis?void 0:globalThis.removeEventListener("beforeunload",e)},[]),(0,q.Z)(async()=>{var n,i;if(!t.includes("/swap")||w)return;let{ammId:l,inputCurrency:o,outputCurrency:r,inputSymbol:a,outputSymbol:s,inputAmount:u,outputAmount:d,fixed:m}=_(e);if("sol"===o&&r===(0,N.ZP)(T.DA))k.Z.setState({coin1:T.aF,coin2:T.FI});else if(o===(0,N.ZP)(T.DA)&&"sol"===r)k.Z.setState({coin1:T.FI,coin2:T.aF});else if(l){let e;let{logWarning:t}=c.Z.getState(),u=await (0,U.E)(o,a),d=await (0,U.E)(r,s);if(l&&(e=x(l)),!e&&u&&d&&(e=await (0,R.Ap)({mint1:o,mint2:r})),e){let t=null!==(n=Z(null==e?void 0:e.baseMint))&&void 0!==n?n:u,l=null!==(i=Z(null==e?void 0:e.quoteMint))&&void 0!==i?i:d;(0,W.CW)([o,r],[String(null==t?void 0:t.mint),String(null==l?void 0:l.mint)])||k.Z.setState((0,V.dI)({coin1:t,coin2:l}))}else h.length>0&&Object.keys(g||{}).length>0&&t("Pool not found. Check the URL link or search manually.")}else if(o||r){let e=await (0,U.E)(o,a),t=await (0,U.E)(r,s);k.Z.setState((0,V.dI)({coin1:e,coin2:e===t?void 0:t}))}let v=o?u:r?d:void 0,b=r?d:o?u:void 0;v&&k.Z.setState({coin1Amount:v}),b&&k.Z.setState({coin2Amount:b}),("in"===m||"out"===m)&&(p?"coin2"===f?"in":"out":"coin2"===f?"out":"in")!==m&&k.Z.setState({focusSide:"in"===m?p?"coin2":"coin1":p?"coin1":"coin2"}),h.length>0&&Object.values(g).length>0&&E(!0)},[w,j,t,e,Z,g,y,n,h,x]),(0,l.useEffect)(()=>{if(!t.includes("/swap")||!w||C)return;let n=o?S(o):"",l=u?S(u):"",r=(null==o?void 0:o.userAdded)?o.symbol:void 0,a=(null==u?void 0:u.userAdded)?u.symbol:void 0,s=(0,V.CE)(_(e),["ammId"]),c=(0,V.dI)({inputCurrency:p?l:n,inputSymbol:r,outputCurrency:p?n:l,outputSymbol:a,inputAmount:(0,b.B)(p?m:d),outputAmount:(0,b.B)(p?d:m),fixed:p?"coin2"===f?"in":"out":"coin2"===f?"out":"in"}),h=!(0,v.Ek)(s,c);h&&i(t,c)},[w,C,o,u,d,m,p,f,e,n,t]),(0,l.useEffect)(()=>{o===u&&k.Z.setState({coin2:void 0,coin2Amount:0})},[o,u])}(),!function(){let{pathname:e}=(0,P.useRouter)(),t=(0,a.ZP)(e=>e.connection),n=(0,k.Z)(e=>e.coin1),i=(0,k.Z)(e=>e.coin2),o=(0,k.Z)(e=>e.coin1Amount),c=(0,k.Z)(e=>e.coin2Amount),u=(0,k.Z)(e=>e.refreshCount),d=(0,k.Z)(e=>e.directionReversed),m=d?"coin2":"coin1",p=(0,r.ZP)(e=>e.slippageTolerance),h=(0,S.Z)(e=>e.connected),x=(0,r.ZP)(e=>e.isApprovePanelShown),y=d?i:n,j=(d?c:o)||"0",Z=d?n:i,C=(0,s.Z)(e=>e.jsonInfos);(0,l.useEffect)(()=>{k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,preflightCalcResult:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:void 0})},[t,null==n?void 0:n.mintString,null==i?void 0:i.mintString,d]),B(async()=>{var e;if(!n||!i||(0,g.$u)(o)&&(0,g.$u)(c))return;k.Z.setState({preflightCalcResult:void 0,canFindPools:void 0,swapable:void 0});let{routeList:l,bestResult:r,bestResultStartTimes:a}=null!==(e=await (0,R.Qf)({connection:t,input:n,output:i,inputAmount:1,slippageTolerance:.05}).catch(e=>console.error(e)))&&void 0!==e?e:{},s=!!(null==r?void 0:r.poolReady);k.Z.setState({preflightCalcResult:l,canFindPools:!!r,swapable:s,selectedCalcResultPoolStartTimes:a})},[t,null==n?void 0:n.mintString,null==i?void 0:i.mintString,d]);let w=(0,F.Nr)(()=>{if(x){k.Z.setState({isCalculating:!1});return}if(!y||!Z||!t||!e.startsWith("/swap")){k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isInsufficientLiquidity:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:void 0});return}let l=(0,v.aT)(n,i)&&(0,v.aT)(n,f.VbZ.mint);if(l){if((0,g.eq)(o,c))return;let{isApprovePanelShown:e}=r.ZP.getState();if(e)return;k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:"coin1"===m?(0,b.B)(o):(0,b.B)(c),["coin1"===m?"isCoin2CalculateTarget":"isCoin1CalculateTarget"]:!1});return}if(!(0,g.$u)(j)){k.Z.setState(d?{coin1Amount:void 0}:{coin2Amount:void 0}),k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0});return}let{abort:a}=(0,E.t)(async e=>{var n,i;k.Z.setState({isCalculating:!0});let l=await (0,R.Qf)({connection:t,input:y,output:Z,inputAmount:j,slippageTolerance:p}).then(e=>{let{routeList:t,bestResult:n,bestResultStartTimes:i,isInsufficientLiquidity:l}=null!=e?e:{};return{routeList:t,bestResult:n,bestResultStartTimes:i,isInsufficientLiquidity:l}}).catch(e=>{console.error(e)});if(!l||!e())return;let{routeList:o,bestResult:r,bestResultStartTimes:a,isInsufficientLiquidity:s}=l,c=(()=>{let e=k.Z.getState().directionReversed,t=(e?k.Z.getState().coin2Amount:k.Z.getState().coin1Amount)||"0";return e?k.Z.getState().coin1Amount:k.Z.getState().coin2Amount,(0,g.eq)(t,j)})();if(!c)return;let u=null==r?void 0:r.poolReady,d=!!(null==o?void 0:o.length),{priceImpact:f,executionPrice:h,currentPrice:x,routeType:v,fee:b,amountOut:S,minAmountOut:C,poolKey:w}=null!=r?r:{};k.Z.setState({fee:b,calcResult:o,preflightCalcResult:o,selectedCalcResult:r,selectedCalcResultPoolStartTimes:a,isCalculating:!1,priceImpact:f,executionPrice:h,currentPrice:x,minReceived:C&&(0,A.h9)(C.amount,null!==(n=C.fee)&&void 0!==n?n:0),maxSpent:void 0,swapable:u,routeType:v,canFindPools:d,isInsufficientLiquidity:s,["coin1"===m?"coin2Amount":"coin1Amount"]:S&&(0,A.h9)(S.amount,null!==(i=S.fee)&&void 0!==i?i:0),["coin1"===m?"isCoin2CalculateTarget":"isCoin1CalculateTarget"]:!1})});return a},{debouncedOptions:{delay:300}});B(()=>{k.Z.setState({isCalculating:!0}),w()},[x,null==y?void 0:y.mintString,null==Z?void 0:Z.mintString,d,"coin1"===m?(0,b.B)(o):(0,b.B)(c),m,p,t,e,u,h,C])}(),null}let{ContextProvider:eL,useStore:eM}=(0,ex.Z)({hasAcceptedPriceChange:!1,coinInputBox1ComponentRef:(0,l.createRef)(),coinInputBox2ComponentRef:(0,l.createRef)(),swapButtonComponentRef:(0,l.createRef)()});function eO(){return(0,i.jsxs)(eL,{children:[(0,i.jsx)(eB,{}),(0,i.jsxs)(ea.Z,{mobileBarTitle:"Swap",metaTitle:"Swap - Raydium",children:[(0,i.jsx)(ez,{}),(0,i.jsx)(eV,{}),(0,i.jsx)(e2,{})]})]})}function ez(){return(0,i.jsx)(ec.Z,{className:"justify-center  mb-12 mobile:mb-2",children:(0,i.jsx)(eu.Z,{currentValue:"Swap",values:["Swap","Liquidity"],onChange:e=>{"Liquidity"===e&&(0,u.Eh)("/liquidity/add")}})})}function eW(){let e=(0,S.Z)(e=>e.allWsolBalance),t=(0,k.Z)(e=>e.refreshSwap),n=(0,S.Z)(e=>e.connected),[o,r]=(0,l.useState)(!1);return(0,g.gt)(e,0)&&n?(0,i.jsxs)(ec.Z,{className:"rounded-lg p-3 bg-[#4069BB] flex justify-center items-center gap-1 mobile:mb-5",children:[(0,i.jsx)(el.Z,{size:"sm",heroIconName:"exclamation-circle",className:"ml-2 text-white"}),(0,i.jsxs)(ec.Z,{children:[(0,i.jsxs)("p",{className:"text-xs mobile:text-2xs text-[white]",children:["You have"," ",(0,i.jsx)("span",{className:"text-white",children:(0,b.B)((0,x.n)(T.FI,e))})," WSOL that you can"," ",(0,i.jsx)("span",{className:"text-[#39D0D8] cursor-pointer font-semibold",onClick:()=>{r(!0),(0,Z.ZP)(async e=>{let{transactionCollector:t,baseUtils:{owner:n,connection:i}}=e,{allTokenAccounts:l,tokenAccountRawInfos:o,txVersion:r}=S.Z.getState(),a=l.filter(e=>(0,N.ZP)(e.mint)===(0,N.ZP)(T.DA)),s=o.filter(e=>{let t=!1;for(let n of a)if((0,N.ZP)(n.publicKey)===(0,N.ZP)(e.pubkey)){t=!0;break}return t}),c=(0,f.d5x)({tokenAccounts:s}),{innerTransactions:u}=await (0,f.FYO)({connection:i,ownerInfo:{wallet:n,payer:n},tokenAccounts:s,makeTxVersion:r}),d=u.map((e,t)=>[e,{txHistoryInfo:{title:"Unwrapped all WSOL",description:"Unwrapped total ".concat((0,b.B)((0,x.n)(T.FI,c))," WSOL")}}]);t.add(d)}).then(e=>{let{allSuccess:n}=e;n&&t(),r(!1)})},children:"Unwrap"})]}),o&&(0,i.jsx)(er.Z,{className:"w-3 h-3 ml-2"})]})]}):null}function eV(){var e;let{connected:t,connecting:n}=(0,S.Z)(),o=(0,k.Z)(e=>e.coin1),u=(0,k.Z)(e=>e.coin2),d=(0,k.Z)(e=>e.coin1Amount),m=(0,k.Z)(e=>e.coin2Amount),f=(0,k.Z)(e=>e.isCoin1CalculateTarget),p=(0,k.Z)(e=>e.isCoin2CalculateTarget),h=(0,k.Z)(e=>e.isCalculating),v=(0,k.Z)(e=>e.directionReversed),y=(0,k.Z)(e=>e.priceImpact),j=(0,k.Z)(e=>e.refreshSwap),Z=(0,S.Z)(e=>e.balances),w=(0,k.Z)(e=>e.preflightCalcResult),N=(0,L.ZP)(e=>e.tokens),P=Object.keys(N).length>2;(0,s.Z)(e=>e.jsonInfos),(0,k.Z)(e=>e.swapable);let R=(0,k.Z)(e=>e.selectedCalcResultPoolStartTimes),E=(0,a.ZP)(e=>e.chainTimeOffset),A=Date.now()+(null!=E?E:0),F=(0,l.useMemo)(()=>{if(null==R?void 0:R.length)return function(e){let t=(0,ef.ZP)(e);return"Pool Opens in ".concat(String(t.days).padStart(2,"0"),"D : ").concat(String(t.hours).padStart(2,"0"),"H : ").concat(String(t.minutes).padStart(2,"0"),"M")}(Math.max(...R.map(e=>e.startTime))-A)},[R,A]),I=(0,k.Z)(e=>e.canFindPools),D=(0,k.Z)(e=>e.isInsufficientLiquidity),B=(0,L.ZP)(e=>e.refreshTokenPrice),{hasConfirmed:M,popConfirm:O}=function(){let e=(0,k.Z)(e=>e.directionReversed),t=(0,k.Z)(e=>e.coin1),n=(0,k.Z)(e=>e.coin2),o=e?t:n,r=(0,L.ZP)(e=>{var t;return null===(t=e.tokenListSettings[L.pI])||void 0===t?void 0:t.mints}),[a,s]=(0,ey.Z)("USER_CONFIRMED_SWAP_TOKENS"),u=!!(o&&((null==r?void 0:r.size)===0||(null==r?void 0:r.has(null==o?void 0:o.mintString)))),d=!!(o&&(null==a?void 0:a.includes(null==o?void 0:o.mintString))),[m,f]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f(!1)},[o]);let x=(0,l.useMemo)(()=>o&&(null==o.hasFreeze?(0,$.WX)(o.mint,{noLog:!0}).then(e=>null!=e?!e:void 0):!!o.hasFreeze),[null==o?void 0:o.mintString]),v=(0,ev.Z)(()=>x,[x],!0===x),g=()=>{p||(h(!0),c.Z.getState().popConfirm({cardWidth:"lg",type:"warning",title:"Confirm Token Mint Address",description:(0,i.jsxs)("div",{className:"space-y-4  text-center",children:[(0,i.jsx)("p",{className:"text-[#FED33A] font-bold",children:"Confirm the token mint address is correct before swapping!"}),(0,i.jsxs)("p",{children:["Many tokens have ",(0,i.jsx)("span",{className:"text-[#FED33A]",children:"similar or identical"})," token tickers and icons."]}),(0,i.jsx)("p",{children:"By clicking below, you understand that you are fully responsible for confirming the token you are trading."}),(0,i.jsxs)(ec.Z,{className:"justify-center items-center gap-2 my-4 bg-[#141041] rounded py-3 w-full",children:[(0,i.jsx)(J.Z,{token:o}),(0,i.jsx)("div",{className:"font-semibold",children:null==o?void 0:o.symbol}),(0,i.jsx)(G.U,{textClassName:"text-[#abc4ff80]",showDigitCount:8,canExternalLink:!0,children:null==o?void 0:o.mint})]}),v&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-center my-4 text-[#FED33A] font-bold",children:"Freeze Authority Warning"}),(0,i.jsxs)("div",{className:"text-center my-2 text-xs text-[#FED33A]",children:["This token has freeze authority enabled and could",(0,i.jsx)("br",{}),"prevent you from transferring or trading the token later."]})]})]}),confirmButtonIsMainButton:!0,cancelButtonText:"Cancel",confirmButtonText:"I understand, Confirm",onConfirm:()=>{f(!0),h(!1),(null==o?void 0:o.mint)&&s(e=>(0,W.jX)(null!=e?e:[],String(o.mint)))},onCancel:()=>{f(!1),h(!1),k.Z.setState(e?{coin1:void 0}:{coin2:void 0})}}))},b=!o||u||d||m;return(0,l.useEffect)(()=>{!b&&o&&g()},[o,b]),{hasConfirmed:b,popConfirm:g}}(),z=v?u:o,V=(v?m:d)||"0",{ConfirmDialog:q}=eR({token:o,onConfirm:()=>k.Z.setState({coin1:o}),onCancel:()=>k.Z.setState({coin1:void 0})}),{ConfirmDialog:U}=eR({token:u,onConfirm:()=>k.Z.setState({coin2:u}),onCancel:()=>k.Z.setState({coin2:void 0})}),{hasAcceptedPriceChange:H,swapButtonComponentRef:_,coinInputBox1ComponentRef:Y,coinInputBox2ComponentRef:X}=eM(),ee=(0,S.Z)(e=>e.checkWalletHasEnoughBalance),et=(0,l.useMemo)(()=>z&&ee((0,x.n)(z,V,{alreadyDecimaled:!0})),[z,V,ee,Z]),eo=(0,l.useCallback)(()=>{k.Z.setState(e=>({directionReversed:!e.directionReversed}))},[]),[er,{on:ea,off:eu}]=(0,eZ.ZP)(),[em,ep]=(0,l.useState)("1"),ex=(0,k.Z)(e=>e.executionPrice),eg=(0,l.useRef)(null),eb=(0,l.useRef)(null),[ej,{toggleSwap:ek}]=(0,eI.H)(eg,eb,{defaultHasWrapped:v});(0,l.useEffect)(()=>{k.Z.setState({directionReversed:ej})},[ej]);let eC=o&&(0,g.$u)(d)&&u&&(0,g.$u)(m)&&ex,ew=(0,l.useRef)(null);(0,l.useEffect)(()=>{k.Z.setState({scrollToInputBox:()=>{var e;return null===(e=ew.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"center"})}})},[]);let eN=(0,r.ZP)(e=>e.isApprovePanelShown),eT=(0,l.useMemo)(()=>{if("1"===em&&u){if(u.symbol===T.aF.symbol)return[T.FI];if(u.symbol===T.FI.symbol)return[T.aF]}else if("2"===em&&o){if(o.symbol===T.aF.symbol)return[T.FI];if(o.symbol===T.FI.symbol)return[T.aF]}return[]},[em,o,u]),eP=(0,k.Z)(e=>e.selectedCalcResult),eE=null==eP?void 0:eP.expirationTime,[eA,eF]=(0,l.useState)(0===eE),{isWarningChipOpen:eB,badToken:eL,Token2022FeeTooHighWarningChip:eO}=(0,eD.I)([{token:o,amount:d},{token:u,amount:m}]);return(0,i.jsxs)(en.Z,{domRef:ew,wrapperClassName:"w-[min(456px,100%)] self-center cyberpunk-bg-light",className:"py-8 pt-4 px-6 mobile:py-5 mobile:px-3",children:[(0,i.jsx)(eW,{}),(0,i.jsxs)("div",{className:"space-y-5 mt-5 mobile:mt-0",children:[(0,i.jsx)(Q.Z,{domRef:eg,disabled:eN,noDisableStyle:!0,disabledInput:v,componentRef:Y,haveHalfButton:!0,haveCoinIcon:!0,showTokenSelectIcon:!0,topLeftLabel:ej?"To":"From",onTryToTokenSelect:()=>{ea(),ep("1")},onEnter:e=>{var t,n,i,l;e&&(u||null===(t=X.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),u&&m&&(null===(i=_.current)||void 0===i||null===(l=i.click)||void 0===l||l.call(i)))},token:o,value:f?"0":d?(0,g.eq)(d,0)?"":(0,b.B)(d):void 0,onUserInput:e=>{k.Z.setState({focusSide:"coin1",coin1Amount:e})},hideTransferFee:!0}),(0,i.jsxs)("div",{className:"relative h-8",children:[(0,i.jsxs)(ec.Z,{className:"absolute items-center transition-all ".concat(ex?"left-4":"left-1/2 -translate-x-1/2"),children:[(0,i.jsx)(el.Z,{size:"sm",iconSrc:"/icons/msic-swap.svg",className:"p-2 frosted-glass frosted-glass-teal rounded-full mr-4 ".concat(eN?"not-clickable":"clickable"," select-none transition"),onClick:()=>{eN||(ek(),eo())}}),ex&&(0,i.jsx)("div",{className:"absolute left-full",children:(0,i.jsx)(e$,{})})]}),(0,i.jsx)("div",{className:"absolute right-0 ".concat(eN?"not-clickable":"clickable"),children:(0,i.jsx)(es.Z,{run:!eN,refreshKey:"swap",popPlacement:"right-bottom",freshFunction:()=>{j(),B()}})})]}),(0,i.jsx)(Q.Z,{domRef:eb,disabled:eN,noDisableStyle:!0,disabledInput:!v,componentRef:X,haveHalfButton:!0,haveCoinIcon:!0,showTokenSelectIcon:!0,topLeftLabel:ej?"From":"To",onTryToTokenSelect:()=>{ea(),ep("2")},onEnter:e=>{var t,n,i,l;e&&(o||null===(t=Y.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),o&&d&&(null===(i=_.current)||void 0===i||null===(l=i.click)||void 0===l||l.call(i)))},token:u,value:p?"0":m?(0,g.eq)(m,0)?"":(0,b.B)(m):void 0,onUserInput:e=>{k.Z.setState({focusSide:"coin2",coin2Amount:e})},hideTransferFee:!0})]}),(0,i.jsx)(ei.Z,{show:eC,children:(0,i.jsx)(eG,{className:"mt-5",onExpirationTimeRunToZero:()=>eF(!0)})}),(0,i.jsx)(eH,{}),q,U,eO({className:"pt-5"}),(0,i.jsx)(K.Z,{className:"w-full frosted-glass-teal mt-5",componentRef:_,isLoading:eN,validators:[{should:P,fallbackProps:{children:"Loading Tokens ..."}},{should:!0,fallbackProps:{children:"Loading Pools ..."}},{should:t,forceActive:!0,fallbackProps:{onClick:()=>r.ZP.setState({isWalletSelectorShown:!0}),children:n?"Connecting...":"Connect Wallet"}},{should:z&&(v?o:u),fallbackProps:{children:"Select a token"}},{should:M,forceActive:!0,fallbackProps:{onClick:O,children:"Confirm unOfficial warning"}},{not:eB},{should:!!w,fallbackProps:{children:"Finding Pool ..."}},{not:eA,fallbackProps:{children:"Token 2022 Expired"}},{should:!D,fallbackProps:{children:(0,i.jsxs)(ec.Z,{className:"items-center",children:[(0,i.jsx)("div",{children:"Insufficient Liquidity"}),(0,i.jsxs)(ed.Z,{className:"w-full",children:[(0,i.jsx)(el.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,i.jsx)(ed.Z.Panel,{children:(0,i.jsx)("p",{className:"w-64",children:"The route for this swap includes a CLMM pool with insufficient in-range liquidity for your swap. Try swapping for a smaller amount or try again later."})})]})]})}},{should:I,fallbackProps:{children:"Pool Not Found"}},{should:!F,fallbackProps:{children:F}},{should:V&&(0,g.$u)(V),fallbackProps:{children:"Enter an amount"}},{should:!h,fallbackProps:{children:"Calculating ..."}},{should:!(0,g.eq)((v?d:m)||"0",0),fallbackProps:{children:"Swap Amount Too Small"}},{should:et,fallbackProps:{children:"Insufficient ".concat(null!==(e=null==z?void 0:z.symbol)&&void 0!==e?e:""," balance")}},{should:H||eN,fallbackProps:{children:"Accept price change"}},{should:y&&(0,g.G)(y,.05),forceActive:!0,fallbackProps:{onClick:e=>{let{ev:t}=e;return t.stopPropagation(),function(e){let{priceImpact:t}=e;c.Z.getState().popConfirm({type:"error",title:"High Price Impact Warning",description:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("p",{children:["Price impact for this swap is"," ",(0,i.jsx)("span",{className:"text-[#DA2EEF]",children:t?(0,eh.Z)(t):"higher than 5%"})]}),(0,i.jsx)("p",{children:"Confirming may result in a poor price for this swap!"})]}),confirmButtonText:"Swap Anyway",onConfirm:C})}({priceImpact:y})}}}],onClick:C,children:"Swap"}),(0,i.jsx)(e_,{}),(0,i.jsx)(eS.Z,{open:er,onSelectToken:e=>{"1"===em?eU(o,e)||(k.Z.setState({coin1:e,[v?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),eq(e,u)||k.Z.setState({coin2:void 0})):eU(u,e)||(k.Z.setState({coin2:e,[v?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),eq(e,o)||k.Z.setState({coin1:void 0})),eu()},onClose:eu,disableTokens:eT})]})}function eq(e,t){return(0,T.Dn)(e)&&(0,T.Ee)(t)||(0,T.Ee)(e)&&(0,T.Dn)(t)||!(0,v.aT)(null==e?void 0:e.mint,null==t?void 0:t.mint)}function eU(e,t){return(null==e?void 0:e.mint)===t.mint}function eH(){let{hasAcceptedPriceChange:e,setHasAcceptedPriceChange:t}=eM(),n=(0,r.ZP)(e=>e.isApprovePanelShown),o=(0,k.Z)(e=>e.coin1),a=(0,k.Z)(e=>e.coin2),s=(0,k.Z)(e=>e.coin1Amount),c=(0,k.Z)(e=>e.coin2Amount),u=(0,k.Z)(e=>e.directionReversed),d=u?"coin2":"coin1",m="coin1"===d?o:a,f="coin1"===d?s:c,p="coin1"===d?a:o,h="coin1"===d?c:s,x=(0,l.useRef)(!1);(0,ej.P)(e=>{let[n,i,l,o,r]=e,a=null!=n&&n!==m,s=!!(f&&(0,g.$u)(i)&&!(0,g.eq)(i,f)),c=null!=l&&l!==p,d=!!(h&&(0,g.$u)(o)&&!(0,g.eq)(o,h)),v=null!=r&&r!==u,b=!a&&!s&&!c&&!d&&!v;b?t(!0):!b&&(s||a||c||v)?(t(!0),x.current=!0):d&&(x.current||s||t(!d),x.current=!1)},[m,f,p,h,u]);let v=(0,g.$u)(s)&&(0,g.$u)(c);return(0,i.jsx)(ei.U,{children:v&&!e&&!n&&(0,i.jsxs)(ec.Z,{className:"mt-5 bg-[#141041] rounded-xl py-2 px-6 mobile:px-4 items-center justify-between",children:[(0,i.jsxs)(ec.Z,{className:"text-sm font-medium text-[#ABC4FF] items-center ",children:["Price updated",(0,i.jsxs)(ed.Z,{placement:"bottom-right",children:[(0,i.jsx)(el.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,i.jsx)(ed.Z.Panel,{children:(0,i.jsx)("p",{className:"w-80",children:"Price has changed since your swap amount was entered."})})]})]}),(0,i.jsx)(K.Z,{size:"sm",className:"frosted-glass-teal",onClick:()=>t(!0),children:"Accept"})]})})}function e_(){let e=(0,S.Z)(e=>e.solBalance),t=(0,A.hi)(e,10**T.Bk);return(0,i.jsx)(ei.U,{children:t&&(0,g.lt)(t,T.kn)&&(0,g.eg)(t,0)&&(0,i.jsxs)(ec.Z,{className:"text-sm mt-4 text-[#D8CB39] items-center justify-center",children:["SOL balance: ",(0,b.B)(t)," ",(0,i.jsxs)(ed.Z,{placement:"bottom-right",children:[(0,i.jsx)(el.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,i.jsx)(ed.Z.Panel,{children:(0,i.jsxs)("p",{className:"w-80",children:["SOL is needed for Solana network fees. A minimum balance of ",T.kn," SOL is recommended to avoid failed transactions. This swap will leave you with less than ",T.kn," SOL."]})})]})]})})}function e$(e){var t,n;let{className:a}=e,[s,c]=(0,l.useState)(!1),u=(0,k.Z)(e=>e.coin1),d=(0,k.Z)(e=>e.coin2),m=(0,k.Z)(e=>e.directionReversed),f=m?d:u,p=m?u:d,h=(0,k.Z)(e=>e.executionPrice),x=(0,k.Z)(e=>e.priceImpact),v=(0,l.useMemo)(()=>(0,g.$u)(x)&&(0,g.eg)(x,.05),[x]),y=(0,l.useMemo)(()=>(0,g.$u)(x)&&(0,g.eg)(x,.01),[x]),j=(0,r.ZP)(e=>e.isMobile),Z=s?p:f,S=s?f:p;return(0,i.jsxs)(ee.Z,{children:[(0,i.jsx)(ei.U,{children:h&&!h.denominator.isZero()&&(0,i.jsxs)(ec.Z,{className:(0,o.m)("font-medium text-sm text-[#ABC4FF]",a),children:[(0,i.jsxs)("div",{className:"whitespace-nowrap",children:[1," ",null!==(t=null==Z?void 0:Z.symbol)&&void 0!==t?t:"--"," ≈"," ",(0,b.B)(s&&0!==parseInt(null==h?void 0:h.numerator.toString())?(0,A.hi)(1,h):h,{decimalLength:j?"auto 2":"auto",zeroDecimalNotAuto:!0})," ",null!==(n=null==S?void 0:S.symbol)&&void 0!==n?n:"--"]}),(0,i.jsx)("div",{className:"ml-2 clickable",onClick:()=>c(e=>!e),children:"⇋"})]})}),(0,i.jsx)(ei.U,{children:x?(0,i.jsx)("div",{className:"font-medium text-xs whitespace-nowrap ".concat(v?"text-[#DA2EEF]":y?"text-[#D8CB39]":"text-[#39D0D8]"," transition-colors"),children:v||y?"Price Impact Warning":"Low Price Impact"}):null})]})}function eG(e){var t,n,a,s,c,u,d,m,f,p,h;let{className:v,onExpirationTimeRunToZero:y}=e,j=(0,r.ZP)(e=>e.slippageTolerance),Z=(0,r.ZP)(e=>e.slippageToleranceState),S=(0,L.ZP)(e=>e.getToken),C=(0,k.Z)(e=>e.priceImpact),w=(0,k.Z)(e=>e.coin1),N=(0,k.Z)(e=>e.coin2),P=(0,k.Z)(e=>e.directionReversed),R=P?N:w,E=P?w:N;(0,k.Z)(e=>e.focusSide);let F=(0,k.Z)(e=>e.minReceived),I=(0,k.Z)(e=>e.fee),D=(0,k.Z)(e=>e.maxSpent),B=(0,k.Z)(e=>e.selectedCalcResult),M=(0,k.Z)(e=>e.selectedCalcResultPoolStartTimes),O=(0,l.useMemo)(()=>(0,g.$u)(C)&&(0,g.eg)(C,.05),[C]),z=(0,l.useMemo)(()=>(0,g.$u)(C)&&(0,g.eg)(C,.01),[C]),W=S((null==B?void 0:B.routeType)==="route"?B.middleToken.mint:void 0),V=R&&E?(null==B?void 0:B.routeType)==="amm"?"Raydium Pool":(null==B?void 0:B.routeType)==="route"?(0,i.jsx)(eK,{startSymbol:null!==(t=null==R?void 0:R.symbol)&&void 0!==t?t:"",middleSymbol:null!==(n=null==W?void 0:W.symbol)&&void 0!==n?n:"",endSymbol:null!==(a=null==E?void 0:E.symbol)&&void 0!==a?a:"",poolTypes:B.poolType}):"Others":void 0,q=(0,r.ZP)(e=>e.isApprovePanelShown),U=(0,l.useMemo)(()=>{var e;return!!(null==B?void 0:null===(e=B.poolKey)||void 0===e?void 0:e.some(e=>5===e.version))},[B]),H=R&&(null==B?void 0:B.amountIn.fee)&&(0,x.n)(R,B.amountIn.fee,{alreadyDecimaled:!0}),_=E&&(null==B?void 0:B.amountOut.fee)&&(0,x.n)(E,B.amountOut.fee,{alreadyDecimaled:!0}),$=W&&(null==B?void 0:B.routeType)==="route"&&(null==B?void 0:B.minMiddleAmountFee)?B.minMiddleAmountFee:void 0,G=null==B?void 0:B.expirationTime;return(0,i.jsxs)(ee.Z,{className:(0,o.m)("pt-5 pb-4 px-6 flex-grow border-1.5  ".concat(O?"border-[#DA2EEF]":z?"border-[rgba(216,203,57,.5)]":"border-[rgba(171,196,255,.5)]"," rounded-xl items-center gap-3 transition-colors"),v),children:[V&&(0,i.jsx)(eQ,{fieldName:"Swapping Through",fieldValue:(0,i.jsxs)(ec.Z,{className:"items-center gap-2",children:[(null==B?void 0:B.routeType)==="amm"&&(null==B?void 0:B.poolType)&&(0,i.jsx)(Y.C,{className:"self-center",children:B.poolType}),(0,i.jsx)("div",{children:V})]}),tooltipContent:"This venue gave the best price for your trade"}),D?(0,i.jsx)(eQ,{fieldName:"Maximum Spent",fieldValue:"".concat((0,b.B)(D,{decimalLength:"auto ".concat(null==R?void 0:R.decimals)})," ").concat(null!==(s=null==R?void 0:R.symbol)&&void 0!==s?s:"--"),tooltipContent:"The max amount of tokens you will spend on this trade"}):(0,i.jsx)(eQ,{fieldName:"Minimum Received",fieldValue:"".concat((0,b.B)(F,{decimalLength:"auto ".concat(null==E?void 0:E.decimals)})," ").concat(null!==(c=null==E?void 0:E.symbol)&&void 0!==c?c:"--"),tooltipContent:"The least amount of tokens you will recieve on this trade"}),(0,i.jsx)(eQ,{fieldName:"Price Impact",fieldNameTextColor:O?"#DA2EEF":z?"#D8CB39":void 0,fieldValue:C?(0,g.lt)(C,.001)?"<0.1%":(0,eh.Z)(C):"--",fieldValueTextColor:O?"#DA2EEF":z?"#D8CB39":"#39D0D8",tooltipContent:"The difference between the market price and estimated price due to trade size"}),(0,g.eg)(H,0)&&(0,i.jsx)(eQ,{fieldName:"Transfer Fee (".concat(null!==(u=null==R?void 0:R.symbol)&&void 0!==u?u:"--",")"),fieldValue:"".concat((0,b.B)(H)," ").concat(null!==(d=null==R?void 0:R.symbol)&&void 0!==d?d:"--")}),(0,g.eg)($,0)&&(0,i.jsx)(eQ,{fieldName:"Transfer Fee (".concat(null!==(m=null==W?void 0:W.symbol)&&void 0!==m?m:"--",")"),fieldValue:"".concat((0,b.B)($)," ").concat(null!==(f=null==W?void 0:W.symbol)&&void 0!==f?f:"--")}),(0,g.eg)(_,0)&&(0,i.jsx)(eQ,{fieldName:"Transfer Fee (".concat(null!==(p=null==E?void 0:E.symbol)&&void 0!==p?p:"--",")"),fieldValue:"".concat((0,b.B)(_)," ").concat(null!==(h=null==E?void 0:E.symbol)&&void 0!==h?h:"--")}),G&&(0,i.jsx)(eQ,{fieldName:"Expiration Time",fieldValue:(0,i.jsx)(eY,{remainSeconds:G,onReachZeroSeconds:y})}),(0,i.jsxs)(et.Z,{openDirection:"upwards",className:"w-full",children:[(0,i.jsx)(et.Z.Body,{children:(0,i.jsxs)(ee.Z,{className:"gap-3 pb-3",children:[(0,i.jsx)(eQ,{fieldName:"Addresses",tooltipContent:(0,i.jsx)(e0,{})}),(0,i.jsx)(eQ,{fieldName:"Slippage Tolerance",tooltipContent:"The maximum difference between your estimated price and execution price",fieldValue:(0,i.jsxs)(ec.Z,{className:"py-1 px-2 bg-[#141041] rounded-sm text-[#F1F1F2] font-medium text-xs -my-1",children:[(0,i.jsx)(eo.Z,{className:"w-7 px-0",disabled:q,value:(0,b.B)((0,A.dC)(j,100),{decimalLength:"auto 2"}),onUserInput:e=>{let t=(0,A.hi)(parseFloat(e),100);t&&r.ZP.setState({slippageTolerance:t})},pattern:/^\d*\.?\d*$/,maximum:100}),(0,i.jsx)("div",{className:"opacity-50 ml-1",children:"%"})]})}),"too small"===Z&&(0,i.jsx)("div",{className:"text-[#D8CB39] text-xs mobile:text-sm",children:"Your transaction may fail"}),"too large"===Z&&(0,i.jsx)("div",{className:"text-[#D8CB39] text-xs mobile:text-sm",children:"Your transaction may be frontrun and result in an unfavorable trade"}),null==M?void 0:M.map(e=>{var t,n;let{ammId:l,poolInfo:o,startTime:r}=e;return(0,i.jsx)(eQ,{fieldName:B&&B.poolKey.length>1?"Open at (".concat(null===(t=S(o.baseMint))||void 0===t?void 0:t.symbol,"-").concat(null===(n=S(o.quoteMint))||void 0===n?void 0:n.symbol,")"):"Open at",fieldValue:(0,em.xn)(r)},l)}),(0,i.jsx)(eQ,{fieldName:"Swap Fee",tooltipContent:"Of the 0.25% swap fee, 0.22% goes to LPs and 0.03% is used to buy back RAY.".concat(U?" For stable swaps, the 0.02% fee goes to LPs.":""," "),fieldValue:I?(0,i.jsx)(ee.Z,{children:I.map(e=>{var t,n;let l=(0,T.wE)(e);return(0,i.jsxs)("div",{className:"text-right",children:[(0,b.B)(l)," ",null!==(n=null===(t=S(l.token.mint))||void 0===t?void 0:t.symbol)&&void 0!==n?n:"--"]},l.token.symbol)})}):"--"})]})}),(0,i.jsx)(et.Z.Face,{children:e=>{let{isOpen:t}=e;return(0,i.jsxs)(ec.Z,{className:"w-full items-center text-xs font-medium text-[rgba(171,196,255,0.5)] cursor-pointer select-none",children:[(0,i.jsx)("div",{children:t?"Show less":"More information"}),(0,i.jsx)(el.Z,{size:"xs",heroIconName:t?"chevron-up":"chevron-down",className:"ml-1"})]})}})]})]})}function eY(e){var t;let{remainSeconds:n,onReachZeroSeconds:o}=e,r=null!==(t=(0,a.ZP)(e=>e.chainTimeOffset))&&void 0!==t?t:0,[s,c]=(0,l.useState)(Math.max((null!=n?n:0)-r/1e3,0));(0,eb.L)(()=>{c(Math.max((null!=n?n:0)-r/1e3,0))},[r,n]),(0,eb.L)(()=>{s<=0&&(null==o||o())},[s<=0]);let{days:u,hours:d,minutes:m,seconds:f}=(0,ef.ZP)(1e3*s);return(0,eg.N)({loop:u?36e5:d?6e4:1e3,disable:!n,disableWhenDocumentInvisiable:!1,onLoop:()=>c(e=>e>0?e-1:e)}),(0,i.jsx)("div",{className:"inline-block",children:u?(0,em.xn)(Date.now()+r+s):d?"rest: ".concat(d,"h ").concat(m,"m"):m?"rest: ".concat(m,"m ").concat(f,"s"):"rest: ".concat(f,"s")})}function eK(e){let{startSymbol:t,middleSymbol:n,endSymbol:l,poolTypes:o}=e;return(0,i.jsxs)(ec.Z,{className:"items-center",children:[t," ",(0,i.jsx)(eX,{tagValue:o[0]})," ",n," ",(0,i.jsx)(eX,{tagValue:o[1]}),l]})}function eX(e){let{tagValue:t}=e,n=(0,l.useRef)(null),[o,r]=(0,l.useState)(0),a=()=>{n.current&&r(n.current.clientWidth)};return(0,l.useEffect)(()=>{a(),t||r(12)},[t]),(0,i.jsxs)("div",{className:"relative top-[-15px]",style:{marginLeft:4,marginRight:4,maxHeight:19},children:[(0,i.jsx)("div",{ref:n,children:t?(0,i.jsx)(Y.C,{className:"justify-center text-[8px] px-1",children:t}):(0,i.jsx)("div",{style:{height:19,width:12}})}),(0,i.jsx)(eJ,{className:"",width:o})]})}function eJ(e){let{className:t,width:n}=e;return(0,i.jsx)("div",{className:(0,o.m)("flex flex-col justify-start mt-[-2px] items-end",t),children:(0,i.jsxs)("svg",{width:n,height:15,viewBox:"0 0 ".concat(n," 15"),children:[(0,i.jsx)("defs",{children:(0,i.jsx)("marker",{id:"arrow",markerWidth:"8",markerHeight:"8",refX:"3.5",refY:"4.5",orient:"auto",children:(0,i.jsx)("path",{d:"M3.5,4.5 L2,7 L7,4.5 L2,2 L3.5,4.5",fill:"white"})})}),(0,i.jsx)("path",{d:"M0,7 H".concat(n-5),vectorEffect:"non-scaling-stroke",stroke:"white",strokeWidth:"1.25px",fill:"none",markerEnd:"url(#arrow)"})]})})}function eQ(e){let{className:t,fieldName:n,fieldValue:l,tooltipContent:r,fieldNameTextColor:a,fieldValueTextColor:s}=e;return(0,i.jsxs)(ec.Z,{className:(0,o.m)("w-full justify-between",t),children:[(0,i.jsxs)(ec.Z,{className:"items-center text-xs font-medium text-[#ABC4FF]",style:{color:a},children:[(0,i.jsx)("div",{className:"mr-1",children:n}),r&&(0,i.jsxs)(ed.Z,{className:t,placement:"bottom-right",children:[(0,i.jsx)(el.Z,{size:"xs",heroIconName:"question-mark-circle",className:"cursor-help"}),(0,i.jsx)(ed.Z.Panel,{children:(0,i.jsx)("div",{className:"max-w-[30em]",children:r})})]})]}),(0,i.jsx)("div",{className:"text-xs font-medium text-white text-right",style:{color:s},children:l})]})}function e0(){var e,t,n,l;let o=(0,k.Z)(e=>e.coin1),r=(0,k.Z)(e=>e.coin2),a=(0,k.Z)(e=>e.selectedCalcResult),s=null==a?void 0:a.poolKey;return(0,i.jsxs)("div",{className:"w-60",children:[(0,i.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Addresses"}),(0,i.jsxs)(ee.Z,{className:"gap-2",children:[(0,i.jsx)(e1,{label:null!==(e=null==o?void 0:o.symbol)&&void 0!==e?e:"--",type:"token",address:String(null!==(t=null==o?void 0:o.mint)&&void 0!==t?t:"--")}),(0,i.jsx)(e1,{label:null!==(n=null==r?void 0:r.symbol)&&void 0!==n?n:"--",type:"token",address:String(null!==(l=null==r?void 0:r.mint)&&void 0!==l?l:"--")}),(null==s?void 0:s.length)?(0,i.jsx)(i.Fragment,{children:s.map((e,t,n)=>{let l=[],o="";return(n.length>1&&(o="(route ".concat(t+1,")")),"marketId"in e)?(l.push((0,i.jsx)(e1,{label:"Market ID ".concat(o),address:e.marketId},"market"+e.marketId)),l.push((0,i.jsx)(e1,{label:"Amm ID ".concat(o),address:e.id},"amm"+e.id))):l.push((0,i.jsx)(e1,{label:"Amm ID ".concat(o),address:(0,N.ZP)(e.id)},"amm"+e.id)),l})}):null]})]})}function e1(e){let{className:t,label:n,address:l,type:r="account"}=e;return(0,i.jsxs)(ec.Z,{className:(0,o.m)("grid gap-2 items-center grid-cols-[5em,1fr,auto,auto]",t),children:[(0,i.jsx)("div",{className:"text-xs font-normal text-white",children:n}),(0,i.jsx)(G.U,{showDigitCount:5,addressType:r,canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs font-normal text-white bg-[#141041] rounded justify-center",children:l})]})}function e2(){let e=(0,k.Z)(e=>e.coin1),t=(0,k.Z)(e=>e.coin2),n=(0,k.Z)(e=>e.directionReversed),o=(0,l.useRef)(null),r=(0,l.useRef)(null),[a,{toggleSwap:s,resetSwapPosition:c}]=(0,eI.H)(o,r,{defaultHasWrapped:n});(0,l.useEffect)(()=>{var e,t;let i=!!(null===(e=o.current)||void 0===e?void 0:e.clientHeight),l=!!(null===(t=r.current)||void 0===t?void 0:t.clientHeight);a!==n&&i&&l&&s()},[n]);let[u,d]=(0,l.useState)(!1),[m,f]=(0,l.useState)(!1),p=(0,W.DB)([u,m]).length;return(0,ej.P)(e=>{let[t]=e;p<(null!=t?t:0)&&c()},[p]),(0,i.jsxs)(X.Z,{className:"flex ".concat(u||m?"visible":"invisible"," flex-col mt-10 p-2 w-[min(456px,100%)] self-center bg-cyberpunk-card-bg"),size:"lg",children:[(0,i.jsx)("div",{ref:o,children:(0,i.jsx)(e5,{coin:e,onDataChange:e=>d(e)})}),(0,i.jsx)("div",{ref:r,children:(null==t?void 0:t.mintString)!==(null==e?void 0:e.mintString)&&(0,i.jsx)(e5,{coin:t,onDataChange:e=>f(e)})})]})}function e5(e){var t,n,o,a;let{coin:s,onDataChange:c}=e,u=[(0,N.ZP)(M.LA),(0,N.ZP)(M.q3)],d=(0,r.ZP)(e=>e.isMobile),f=(0,k.Z)(e=>e.refreshCount),p=(0,L.ZP)(e=>e.tokenPrices),h=(0,ev.Z)(async()=>{var e,t;return(null==s?void 0:null===(e=s.extensions)||void 0===e?void 0:e.coingeckoId)?await m(null==s?void 0:null===(t=s.extensions)||void 0===t?void 0:t.coingeckoId):void 0},[s,f]),x=null==h?void 0:h[0],v=null==h?void 0:h[h.length-1],b=null!==(t=s&&p[null==s?void 0:s.mintString])&&void 0!==t?t:v,y=(0,g.$u)(x)&&v?(v-x)/x:0,j=y>0,Z=y<0,S=!!(s&&!u.includes(s.mintString)&&(null==h?void 0:h.length));return(0,l.useEffect)(()=>()=>null==c?void 0:c(!1),[]),(0,l.useEffect)(()=>{null==c||c(S)},[S]),(0,i.jsx)(ei.U,{children:S&&(0,i.jsxs)("div",{className:"flex mobile:grid mobile:grid-cols-3 mobile:gap-1 p-4 mobile:p-2 w-[min(456px,100%)] self-center items-center",children:[(0,i.jsx)(ec.Z,{className:"items-center mobile:justify-self-center w-16 mobile:w-8 flex-shrink-0",children:(0,i.jsxs)(ee.Z,{className:"gap-1 grow  mobile:items-center",children:[(0,i.jsx)(J.Z,{token:s,size:d?"sm":"smi"}),(0,i.jsx)("div",{className:"font-medium text-sm text-[#abc4ff]",children:null!==(n=null==s?void 0:s.symbol)&&void 0!==n?n:"--"})]})}),(0,i.jsxs)(ee.Z,{className:"items-end mobile:items-center mobile:justify-self-center mobile:ml-0 grow",children:[(0,i.jsx)("div",{className:"text-xs font-medium text-[rgba(171,196,255,0.5)]",children:"Price"}),(0,i.jsx)("div",{className:"text-sm font-medium text-[#abc4ff] whitespace-nowrap",children:"$"+(0,ep.Z)(null==b?void 0:b.toFixed((0,g.lt)(b,.1)?null!==(o=null==s?void 0:s.decimals)&&void 0!==o?o:4:2),{fractionLength:"auto"})})]}),(0,i.jsxs)(ee.Z,{className:"items-start mobile:items-center mobile:justify-self-center ml-8  mobile:ml-0 w-8",children:[(0,i.jsx)("div",{className:"text-xs font-medium text-[rgba(171,196,255,0.5)]",children:"24H%"}),(0,i.jsx)("div",{className:"text-sm font-medium ".concat(j?"text-[#39D0D8]":Z?"text-[#DA2EEF]":"text-[#abc4ff]"),children:(0,eh.Z)(y,{alwaysSigned:!0})})]}),(0,i.jsx)(e3,{className:"ml-10 w-36 mobile:w-full h-12 mobile:col-span-full  mobile:m-0 mobile:mt-2 flex-shrink-0",isPositive:j,isNegative:Z,pricePoints:h})]})})}function e3(e){let{className:t,isPositive:n,isNegative:l,pricePoints:o}=e,r=n?"#39D0D8":l?"#DA2EEF":"#abc4ff",a=Math.max(...o),s=Math.min(...o),c=a-s,u=o.length;return(0,i.jsxs)("svg",{className:t,viewBox:"0 0 2000 1000",preserveAspectRatio:"none",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:"k-line-glow-".concat(n?"positive":l?"negative":"normal"),children:[(0,i.jsx)("feFlood",{result:"flood",floodColor:r,floodOpacity:".8"}),(0,i.jsx)("feComposite",{in:"flood",result:"mask",in2:"SourceGraphic",operator:"in"}),(0,i.jsx)("feMorphology",{in:"mask",result:"dilated",operator:"dilate",radius:"3"}),(0,i.jsx)("feGaussianBlur",{in:"dilated",result:"blurred",stdDeviation:"8"}),(0,i.jsxs)("feMerge",{children:[(0,i.jsx)("feMergeNode",{in:"blurred"}),(0,i.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),(0,i.jsx)("g",{filter:"url(#k-line-glow-".concat(n?"positive":l?"negative":"normal",")"),children:!!u&&(c?(0,i.jsx)("polyline",{vectorEffect:"non-scaling-stroke",points:o.map((e,t)=>{let n=function(e){let t=.1*a;return c>t?(c-(e-s))/c*1e3:1e3-((t-c)/2+(e-s))*1e3/t}(e);return"".concat(t/u*2e3,",").concat(n)}).join(" "),stroke:r,fill:"none"}):(0,i.jsx)("line",{x1:"0",y1:"499.9",x2:"2000",y2:"500",stroke:r,fill:"none",strokeWidth:"16"}))})]})}},91107:function(e,t,n){"use strict";n.d(t,{E:function(){return R}});var i,l,o=n(67294),r=n(12351),a=n(19946),s=n(32984),c=n(16723),u=n(61363),d=n(84575),m=n(95389),f=n(39516),p=n(15466),h=n(23784),x=n(46045),v=n(18689),g=n(73781),b=n(31147),y=n(64103),j=n(3855),Z=n(94192),S=((i=S||{})[i.RegisterOption=0]="RegisterOption",i[i.UnregisterOption=1]="UnregisterOption",i);let k={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:(0,d.z2)(n,e=>e.element.current)}},1(e,t){let n=e.options.slice(),i=e.options.findIndex(e=>e.id===t.id);return -1===i?e:(n.splice(i,1),{...e,options:n})}},C=(0,o.createContext)(null);C.displayName="RadioGroupDataContext";let w=(0,o.createContext)(null);function N(e,t){return(0,s.E)(t.type,k,e,t)}w.displayName="RadioGroupActionsContext";let T=(0,r.yV)(function(e,t){let n=(0,a.M)(),{id:i=`headlessui-radiogroup-${n}`,value:l,defaultValue:s,name:y,onChange:j,by:S=(e,t)=>e===t,disabled:k=!1,...T}=e,P=(0,g.z)("string"==typeof S?(e,t)=>(null==e?void 0:e[S])===(null==t?void 0:t[S]):S),[R,E]=(0,o.useReducer)(N,{options:[]}),A=R.options,[F,I]=(0,m.b)(),[D,B]=(0,f.f)(),L=(0,o.useRef)(null),M=(0,h.T)(L,t),[O,z]=(0,b.q)(l,j,s),W=(0,o.useMemo)(()=>A.find(e=>!e.propsRef.current.disabled),[A]),V=(0,o.useMemo)(()=>A.some(e=>P(e.propsRef.current.value,O)),[A,O]),q=(0,g.z)(e=>{var t;if(k||P(e,O))return!1;let n=null==(t=A.find(t=>P(t.propsRef.current.value,e)))?void 0:t.propsRef.current;return(null==n||!n.disabled)&&(null==z||z(e),!0)});!function({container:e,accept:t,walk:n,enabled:i=!0}){let l=(0,o.useRef)(t),r=(0,o.useRef)(n);(0,o.useEffect)(()=>{l.current=t,r.current=n},[t,n]),(0,c.e)(()=>{if(!e||!i)return;let t=(0,p.r)(e);if(!t)return;let n=l.current,o=r.current,a=Object.assign(e=>n(e),{acceptNode:n}),s=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;s.nextNode();)o(s.currentNode)},[e,i,l,r])}({container:L.current,accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let U=(0,g.z)(e=>{let t=L.current;if(!t)return;let n=(0,p.r)(t),i=A.filter(e=>!1===e.propsRef.current.disabled).map(e=>e.element.current);switch(e.key){case u.R.Enter:(0,v.g)(e.currentTarget);break;case u.R.ArrowLeft:case u.R.ArrowUp:if(e.preventDefault(),e.stopPropagation(),(0,d.jA)(i,d.TO.Previous|d.TO.WrapAround)===d.fE.Success){let e=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));e&&q(e.propsRef.current.value)}break;case u.R.ArrowRight:case u.R.ArrowDown:if(e.preventDefault(),e.stopPropagation(),(0,d.jA)(i,d.TO.Next|d.TO.WrapAround)===d.fE.Success){let e=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));e&&q(e.propsRef.current.value)}break;case u.R.Space:{e.preventDefault(),e.stopPropagation();let t=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));t&&q(t.propsRef.current.value)}}}),H=(0,g.z)(e=>(E({type:0,...e}),()=>E({type:1,id:e.id}))),_=(0,o.useMemo)(()=>({value:O,firstOption:W,containsCheckedOption:V,disabled:k,compare:P,...R}),[O,W,V,k,P,R]),$=(0,o.useMemo)(()=>({registerOption:H,change:q}),[H,q]),G=(0,o.useMemo)(()=>({value:O}),[O]),Y=(0,o.useRef)(null),K=(0,Z.G)();return(0,o.useEffect)(()=>{Y.current&&void 0!==s&&K.addEventListener(Y.current,"reset",()=>{q(s)})},[Y,q]),o.createElement(B,{name:"RadioGroup.Description"},o.createElement(I,{name:"RadioGroup.Label"},o.createElement(w.Provider,{value:$},o.createElement(C.Provider,{value:_},null!=y&&null!=O&&(0,v.t)({[y]:O}).map(([e,t],n)=>o.createElement(x._,{features:x.A.Hidden,ref:0===n?e=>{var t;Y.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,r.oA)({key:e,as:"input",type:"radio",checked:null!=t,hidden:!0,readOnly:!0,name:e,value:t})})),(0,r.sY)({ourProps:{ref:M,id:i,role:"radiogroup","aria-labelledby":F,"aria-describedby":D,onKeyDown:U},theirProps:T,slot:G,defaultTag:"div",name:"RadioGroup"})))))});var P=((l=P||{})[l.Empty=1]="Empty",l[l.Active=2]="Active",l);let R=Object.assign(T,{Option:(0,r.yV)(function(e,t){var n;let i=(0,a.M)(),{id:l=`headlessui-radiogroup-option-${i}`,value:s,disabled:u=!1,...d}=e,p=(0,o.useRef)(null),x=(0,h.T)(p,t),[v,b]=(0,m.b)(),[Z,S]=(0,f.f)(),{addFlag:k,removeFlag:N,hasFlag:T}=function(e=0){let[t,n]=(0,o.useState)(e);return{addFlag:(0,o.useCallback)(e=>n(t=>t|e),[t]),hasFlag:(0,o.useCallback)(e=>!!(t&e),[t]),removeFlag:(0,o.useCallback)(e=>n(t=>t&~e),[n]),toggleFlag:(0,o.useCallback)(e=>n(t=>t^e),[n])}}(1),P=(0,j.E)({value:s,disabled:u}),R=function e(t){let n=(0,o.useContext)(C);if(null===n){let n=Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}("RadioGroup.Option"),E=function e(t){let n=(0,o.useContext)(w);if(null===n){let n=Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}("RadioGroup.Option");(0,c.e)(()=>E.registerOption({id:l,element:p,propsRef:P}),[l,E,p,e]);let A=(0,g.z)(e=>{var t;if((0,y.P)(e.currentTarget))return e.preventDefault();E.change(s)&&(k(2),null==(t=p.current)||t.focus())}),F=(0,g.z)(e=>{if((0,y.P)(e.currentTarget))return e.preventDefault();k(2)}),I=(0,g.z)(()=>N(2)),D=(null==(n=R.firstOption)?void 0:n.id)===l,B=R.disabled||u,L=R.compare(R.value,s),M={ref:x,id:l,role:"radio","aria-checked":L?"true":"false","aria-labelledby":v,"aria-describedby":Z,"aria-disabled":!!B||void 0,tabIndex:B?-1:L||!R.containsCheckedOption&&D?0:-1,onClick:B?void 0:A,onFocus:B?void 0:F,onBlur:B?void 0:I},O=(0,o.useMemo)(()=>({checked:L,disabled:B,active:T(2)}),[L,B,T]);return o.createElement(S,{name:"RadioGroup.Description"},o.createElement(b,{name:"RadioGroup.Label"},(0,r.sY)({ourProps:M,theirProps:d,slot:O,defaultTag:"div",name:"RadioGroup.Option"})))}),Label:m._,Description:f.d})}},function(e){e.O(0,[7239,5830,2820,7664,7980,9774,2888,179],function(){return e(e.s=98229)}),_N_E=e.O()}]);