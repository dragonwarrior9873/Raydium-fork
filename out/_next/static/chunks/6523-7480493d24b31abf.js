"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6523],{18074:function(e,i,n){n.d(i,{Z:function(){return r}});var a=n(81451),l=n(51523),s=n(84207),t=n(72573),o=n(99881);function r(e,i){try{var n,r;let d=(0,s.Z)(null!=e?e:0),c=d.mul((null==i?void 0:i.alreadyPercented)?1:100).toFixed(null!==(n=null==i?void 0:i.fixed)&&void 0!==n?n:2);if((0,a.eq)(d,0))return"0%";if(!(null==i?void 0:i.exact)&&c===0..toFixed(null!==(r=null==i?void 0:i.fixed)&&void 0!==r?r:2))return(null==i?void 0:i.alwaysSigned)?"<+0.01%":"<0.01%";return(null==i?void 0:i.alwaysSigned)?"".concat((0,a.gt)(c,0)?"+":"-").concat((0,o.Z)((0,a.gt)(c,0)?(0,t.B)(c):(0,t.B)((0,l.dC)(c,-1))),"%"):"".concat((0,o.Z)(c,{fractionLength:null==i?void 0:i.fixed}),"%")}catch(e){return"0%"}}},28723:function(e,i,n){n.d(i,{t:function(){return R}});var a=n(85893),l=n(13521),s=n(48162),t=n(51800),o=n(70745),r=n(54592),d=n(60421),c=n(34495),m=n(56419),u=n(90547),v=n(99881),x=n(51523),f=n(72573),h=n(11601),g=n(95657),j=n(18074),b=n(81451),p=n(93513),Z=n(62952),k=n(53002),w=n(4465),N=n(92618),y=n(43067),T=n(91371),D=n(3363);function R(e){let{canUserEdit:i,hydratedFarmInfo:n,onClickIncreaseReward:R,onClaimReward:C,onClaimAllReward:P}=e,S=(0,k.Z)(e=>e.owner),I=(0,T.ZP)(e=>e.isMobile),B=(0,l.Z)(e=>e.rewards),A=B.filter(e=>"existed reward"===e.type),E=B.every(e=>(0,w.aT)(S,e.owner)),L=B.some(e=>e.isRewardEnded&&e.originData&&(0,b.$u)((0,f.B)(e.originData.claimableRewards)));return(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(c.Z,{list:A,type:I?"item-card":"list-table",className:I?"gap-4":"",getItemKey:e=>(0,g.pn)(e)+(0,D.ZP)(S),labelMapper:[{label:"Token",cssGridItemWidth:".9fr"},{label:"Token Type"},{label:"Amount"},{label:"Duration",cssGridItemWidth:".6fr"},{label:"Period",cssGridItemWidth:"1.5fr"},{label:"Rate"}],renderRowItem:e=>{var i,n,l,s,c,p,Z,k,w,N,y,T,D,R,C;let{item:P,label:S}=e,I=(0,g.uk)(P);if("Token"===S)return P.token?(0,a.jsxs)(r.Z,{className:"h-full justify-center",children:[(0,a.jsxs)(t.Z,{className:"gap-1 items-center",children:[(0,a.jsx)(o.Z,{token:P.token,size:"sm"}),(0,a.jsx)("div",{children:null!==(n=null===(i=P.token)||void 0===i?void 0:i.symbol)&&void 0!==n?n:"UNKNOWN"})]}),(0,a.jsxs)(t.Z,{className:"gap-1 flex-wrap mt-1",children:[P.isRewardEnded&&(0,a.jsx)(h.C,{cssColor:"#da2Eef",children:"Ended"}),P.isRewardBeforeStart&&(0,a.jsx)(h.C,{cssColor:"#abc4ff",children:"Upcoming"}),P.isRewarding&&(0,a.jsx)(h.C,{cssColor:"#39d0d8",children:"Ongoing"})]})]}):"--";if("Amount"===S)return P.isRewarding&&"v3/v5"===P.version?"--":(0,a.jsxs)(d.Z,{className:"gap-4 ".concat(I?"grid-rows-2":""," h-full"),children:[(null===(l=P.originData)||void 0===l?void 0:l.amount)?(0,a.jsx)(r.Z,{className:"grow break-all justify-center",children:(0,v.Z)(P.originData.amount,{fractionLength:null!==(p=null===(s=P.token)||void 0===s?void 0:s.decimals)&&void 0!==p?p:6})}):void 0,I?(0,a.jsx)(r.Z,{className:"grow break-all justify-center text-[#39d0d8]",children:(0,v.Z)(P.amount,{fractionLength:null!==(Z=null===(c=P.token)||void 0===c?void 0:c.decimals)&&void 0!==Z?Z:6})}):void 0]});if("Token Type"===S)return(0,a.jsxs)(d.Z,{className:"h-full",children:[(null===(k=P.originData)||void 0===k?void 0:k.amount)?(0,a.jsx)(r.Z,{className:"grow break-all justify-center",children:P.token?P.isOptionToken?"Option tokens":"Standard SPL":""}):void 0,I?(0,a.jsx)(r.Z,{className:"grow break-all justify-center",children:P.token?P.isOptionToken?"Option tokens":"Standard SPL":""}):void 0]});if("Duration"===S){if(P.isRewarding&&"v3/v5"===P.version)return"--";let e=(e,i)=>{let n=(0,u.ZP)((0,u.g9)(i,e));return n.hours?"".concat(n.days,"D ").concat(n.hours,"H"):"".concat(n.days,"D")};return(0,a.jsxs)(d.Z,{className:"gap-4 ".concat(I?"grid-rows-2":""," h-full"),children:[(null===(w=P.originData)||void 0===w?void 0:w.startTime)&&P.originData.endTime?(0,a.jsx)(r.Z,{className:"grow break-all justify-center",children:e(P.originData.startTime,P.originData.endTime)}):void 0,I&&P.startTime&&P.endTime?(0,a.jsx)(r.Z,{className:"grow break-all justify-center text-[#39d0d8]",children:e(P.startTime,P.endTime)}):void 0]})}if("Period"===S){if(P.isRewarding&&"v3/v5"===P.version)return"--";if(!P.startTime||!P.endTime)return;return(0,a.jsxs)(d.Z,{className:"gap-4 ".concat(I?"grid-rows-2":""," h-full"),children:[(null===(N=P.originData)||void 0===N?void 0:N.startTime)&&P.originData.endTime?(0,a.jsxs)(r.Z,{className:"grow justify-center",children:[(0,a.jsx)("div",{children:(0,m.xn)(P.originData.startTime)}),(0,a.jsx)("div",{children:(0,m.xn)(P.originData.endTime)})]}):void 0,I?(0,a.jsxs)(r.Z,{className:"grow justify-center text-[#39d0d8]",children:[(0,a.jsx)("div",{children:(0,m.xn)(P.startTime)}),(0,a.jsx)("div",{children:(0,m.xn)(P.endTime)})]}):void 0]})}if("Rate"===S){if(P.isRewarding&&"v3/v5"===P.version)return"--";let e=(e,i,n)=>{let a=n&&i?(0,m.hK)(n)-(0,m.hK)(i):void 0,l=e&&a?(0,x.hi)(e,(0,u.nB)(a).days):void 0;return l},i=(null===(y=P.originData)||void 0===y?void 0:y.amount)&&P.originData.startTime&&P.originData.endTime?e(P.originData.amount,P.originData.startTime,P.originData.endTime):void 0,n=I&&P.amount&&P.startTime&&P.endTime?e(P.amount,P.startTime,P.endTime):void 0,l=n&&!(0,b.eq)(i,n);return(0,a.jsxs)(d.Z,{className:"gap-4 ".concat(l?"grid-rows-2":""," h-full"),children:[i&&(0,a.jsxs)(r.Z,{className:"grow justify-center text-xs",children:[(0,a.jsxs)("div",{children:[(0,f.B)(i)," ",null===(T=P.originData)||void 0===T?void 0:null===(D=T.token)||void 0===D?void 0:D.symbol,"/day"]}),(null===(R=P.originData)||void 0===R?void 0:R.apr)&&(0,a.jsxs)("div",{children:[(0,j.Z)(P.originData.apr)," APR"]})]}),l&&(0,a.jsxs)(r.Z,{className:"grow justify-center text-xs text-[#39d0d8]",children:[(0,a.jsxs)("div",{children:[(0,f.B)(n)," ",null==P?void 0:null===(C=P.token)||void 0===C?void 0:C.symbol,"/day"]}),(null==P?void 0:P.apr)&&(0,a.jsxs)("div",{children:[(0,j.Z)(P.apr)," APR"]})]})]})}},renderItemActionButtons:e=>{var n,o,c,m,u,v,x,h,j,k;let{changeSelf:T,itemData:D,index:P}=e,B=null===(n=D.originData)||void 0===n?void 0:n.isRewardBeforeStart,A=(null===(o=D.originData)||void 0===o?void 0:o.isRwardingBeforeEnd72h)||(null===(c=D.originData)||void 0===c?void 0:c.isRewardEnded),E=S&&(0,w.aT)(S,D.owner),L=(0,g.uk)(D),q=(null===(m=D.originData)||void 0===m?void 0:m.isRwardingBeforeEnd72h)&&!L,O=null===(u=D.originData)||void 0===u?void 0:u.isRewardEnded;if(i&&(O||q)&&A&&!B)return(0,a.jsx)("div",{className:"bg-[#abc4ff1a] mobile:bg-transparent rounded-md p-2 mobile:p-0 mb-4 mobile:mb-0 empty:hidden",children:(0,a.jsxs)(d.Z,{className:"grid-cols-auto-fit mobile:grid-cols-1 gap-board empty:hidden",children:[q&&(0,a.jsxs)(y.Z,{noComponentCss:!0,className:"flex-col items-center clickable mobile:py-4",onClick:()=>{null==R||R({reward:D})},children:[(0,a.jsxs)(t.Z,{className:"items-center gap-1",children:[(0,a.jsx)(s.Z,{iconSrc:"/icons/create-farm-plus.svg",size:"xs",className:"text-[#abc4ff80]"}),(0,a.jsx)("div",{className:"text-xs text-[#abc4ff] font-medium",children:"Add more rewards"})]}),(0,a.jsx)("div",{className:"text-xs text-[#abc4ff80] font-medium",children:"(no rate changed allowed)"})]}),O&&(0,a.jsxs)(a.Fragment,{children:[!L&&(0,a.jsxs)(y.Z,{noComponentCss:!0,className:"flex items-center justify-center gap-1 min-h-[36px] mobile:py-4 clickable ".concat(E?"":"not-clickable"),onClick:()=>null==R?void 0:R({reward:D}),children:[(0,a.jsx)(s.Z,{iconSrc:"/icons/create-farm-plus.svg",size:"xs",className:"text-[#abc4ff80]"}),(0,a.jsx)("div",{className:"text-xs text-[#abc4ff] font-medium",children:"Add more rewards"})]}),(0,a.jsxs)(y.Z,{noComponentCss:!0,className:"flex items-center justify-center gap-1 min-h-[36px] mobile:py-4 clickable ".concat(E&&(0,b.$u)((0,f.B)(null===(v=D.originData)||void 0===v?void 0:v.claimableRewards))?"":"not-clickable"),onClick:()=>null==C?void 0:C({reward:D,onTxSuccess:()=>{setTimeout(()=>{l.Z.setState(e=>(0,p.Uy)(e,e=>{let i=e.rewards.find(e=>e.id===D.id);(null==i?void 0:i.originData)&&(i.originData.claimableRewards=(null==i?void 0:i.token)&&(0,Z.n)(null==i?void 0:i.token,0)),i&&(i.claimableRewards=(null==i?void 0:i.token)&&(0,Z.n)(null==i?void 0:i.token,0))}))},300)}}),children:[(0,a.jsx)(s.Z,{iconSrc:"/icons/create-farm-roll-back.svg",size:"xs",className:"text-[#abc4ff80]"}),(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(t.Z,{className:"text-xs text-[#abc4ff] font-medium",children:[(0,a.jsx)("div",{children:"Claim unemmitted rewards"}),!I&&(0,a.jsxs)(N.Z,{children:[(0,a.jsx)(s.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,a.jsx)(N.Z.Panel,{children:(0,a.jsx)("div",{className:"max-w-[300px]",children:"Rewards are only emitted when LP tokens are staked in the farm. If there is a period when no LP tokens are staked, unemmitted rewards can be claimed here once farming period ends"})})]})]}),(0,a.jsxs)("div",{className:"text-xs text-[#abc4ff80] font-medium",children:[(0,f.B)(null===(x=D.originData)||void 0===x?void 0:x.claimableRewards)," ",null!==(k=null===(h=D.originData)||void 0===h?void 0:null===(j=h.claimableRewards)||void 0===j?void 0:j.token.symbol)&&void 0!==k?k:"UNKNOWN"]})]})]})]}),L&&I&&(0,a.jsxs)(t.Z,{className:"items-center justify-center gap-1 min-h-[36px] mobile:py-4 clickable text-xs text-[#abc4ff] font-medium",onClick:()=>i&&T({...D,...D.originData}),children:[(0,a.jsx)(s.Z,{iconSrc:"/icons/create-farm-undo.svg",size:"xs",className:"text-[#abc4ff80]"}),"Reset"]})]})})},renderControlButtons:e=>{let{changeSelf:n,itemData:l}=e,s=(0,g.uk)(l);return I||!s?null:(0,a.jsx)(h.C,{className:i?"cursor-pointer":"",cssColor:i?"#abc4ff":"#39d0d8",onClick:()=>{i&&n({...l,...l.originData})},children:i?"Reset":"Added"})},onListChange:e=>{l.Z.setState(i=>({rewards:i.rewards.map(i=>{let n=e.find(e=>e.id===i.id);return n||i})}))}}),i&&B.filter(e=>e.isRewardEnded).length>1&&(0,a.jsx)(y.Z,{className:"self-end frosted-glass-skygray my-4 mobile:w-full",validators:[{should:E&&L}],size:I?"sm":"lg",onClick:()=>{let{rewards:e}=l.Z.getState();null==P||P({rewards:e,onTxSuccess:()=>{setTimeout(()=>{l.Z.setState(e=>(0,p.Uy)(e,e=>{for(let i of e.rewards)(null==i?void 0:i.originData)&&(i.originData.claimableRewards=(null==i?void 0:i.token)&&(0,Z.n)(null==i?void 0:i.token,0)),i&&(i.claimableRewards=(null==i?void 0:i.token)&&(0,Z.n)(null==i?void 0:i.token,0))}))},300)}})},children:"Claim all unemmitted rewards"})]})}},56053:function(e,i,n){n.d(i,{j:function(){return b}});var a=n(85893),l=n(91371),s=n(13521),t=n(57435),o=n(2148),r=n(31166),d=n(99522),c=n(54531),m=n(54592),u=n(48162),v=n(34495),x=n(51800),f=n(92618),h=n(3363),g=n(18074),j=n(95865);function b(){let e=(0,s.Z)(e=>e.poolId),i=(0,o.O)(e=>e.hydratedInfos),n=(0,t.Z)(e=>e.jsonInfos),b=(0,r.ZP)(e=>e.tokens),p=(0,l.ZP)(e=>e.isMobile),Z=n.find(i=>(0,h.ZP)(i.id)===e),k=i.find(i=>i.ammId===e),w={...Z,...k,baseToken:Z?b[Z.baseMint]:void 0,quoteToken:Z?b[Z.quoteMint]:void 0};return(0,a.jsx)(v.Z,{type:p?"item-card":"list-table",itemClassName:p?"grid-cols-[1fr,2fr]":void 0,list:[{id:e,pool:w}],getItemKey:e=>e.id,labelMapper:[{label:"Pool",cssGridItemWidth:"2fr"},{label:"TVL"},{label:"APR",renderLabel:()=>(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("div",{children:"APR"}),(0,a.jsxs)(f.Z,{children:[(0,a.jsx)(u.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,a.jsx)(f.Z.Panel,{children:(0,a.jsx)("div",{className:"max-w-[300px]",children:"APR based on trading fees earned by the pool in the past 30D. Farming reward APR will be calculated once the farm is live and users have staked."})})]})]})}],renderRowItem:e=>{var i,n,l,s,t,o,r,u,v,f;let{item:b,label:p}=e;return"Pool"===p?b.id?(0,a.jsxs)(x.Z,{className:"gap-1 items-center",children:[(0,a.jsx)(c.Z,{token1:null===(i=b.pool)||void 0===i?void 0:i.baseToken,token2:null===(n=b.pool)||void 0===n?void 0:n.quoteToken,size:"sm"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[null!==(u=null===(l=b.pool)||void 0===l?void 0:null===(s=l.baseToken)||void 0===s?void 0:s.symbol)&&void 0!==u?u:"UNKNOWN","-",null!==(v=null===(t=b.pool)||void 0===t?void 0:null===(o=t.quoteToken)||void 0===o?void 0:o.symbol)&&void 0!==v?v:"UNKNOWN"]}),(0,a.jsx)(d.U,{showDigitCount:8,textClassName:"text-[#abc4ff80] text-xs",canCopy:!1,children:(0,h.ZP)(null===(r=b.pool)||void 0===r?void 0:r.ammId)})]})]}):"--":"TVL"===p?(0,a.jsx)(m.Z,{className:"justify-center h-full",children:(null===(f=b.pool)||void 0===f?void 0:f.liquidity)?(0,j.Z)(b.pool.liquidity,{decimalPlace:0}):"--"}):"APR"===p?(0,a.jsx)(m.Z,{className:"justify-center h-full",children:b.pool.apr30d?(0,g.Z)(b.pool.apr30d,{alreadyPercented:!0}):"--"}):void 0}})}}}]);